<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.549">

  <title>index</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="styles.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- This is also a suitable place for other snippets from JavaScript, CSS, or HTML elements, in order to have them included in the header -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/editor/editor.main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
  <style type="text/css">
  .monaco-editor pre {
    background-color: unset !important;
  }

  .qwebr-editor-toolbar {
    width: 100%;
    display: flex;
    justify-content: space-between;
    box-sizing: border-box;
  }

  .qwebr-editor-toolbar-left-buttons, .qwebr-editor-toolbar-right-buttons {
    display: flex;
  }

  .qwebr-non-interactive-loading-container.qwebr-cell-needs-evaluation, .qwebr-non-interactive-loading-container.qwebr-cell-evaluated {
    justify-content: center;
    display: flex;
    background-color: rgba(250, 250, 250, 0.65);
    border: 1px solid rgba(233, 236, 239, 0.65);
    border-radius: 0.5rem;
    margin-top: 15px;
    margin-bottom: 15px;
  }

  .qwebr-r-project-logo {
    color: #2767B0; /* R Project's blue color */
  }

  .qwebr-icon-status-spinner {
    color: #7894c4;
  }

  .qwebr-icon-run-code {
    color: #0d9c29
  }

  .qwebr-output-code-stdout {
    color: #111;
  }

  .qwebr-output-code-stderr {
    color: #db4133;
  }

  .qwebr-editor {
    border: 1px solid #EEEEEE;
  }

  .qwebr-editor-toolbar {
    background-color: #EEEEEE;
    padding: 0.2rem 0.5rem;
  }

  .qwebr-button {
    background-color: #EEEEEE;
    display: inline-block;
    font-weight: 400;
    line-height: 1;
    text-decoration: none;
    text-align: center;
    color: #000;
    border-color: #dee2e6;
    border: 1px solid rgba(0,0,0,0);
    padding: 0.375rem 0.75rem;
    font-size: .9rem;
    border-radius: 0.25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
  }

  .qwebr-button:hover {
    color: #000;
    background-color: #d9dce0;
    border-color: #c8ccd0;
  }

  .qwebr-button:disabled,.qwebr-button.disabled,fieldset:disabled .qwebr-button {
    pointer-events: none;
    opacity: .65
  }

  .qwebr-button-reset {
    color: #696969; /*#4682b4;*/
  }

  .qwebr-button-copy {
    color: #696969;
  }


  /* Custom styling for RevealJS Presentations*/

  /* Reset the style of the interactive area */
  .reveal div.qwebr-interactive-area {
    display: block;
    box-shadow: none;
    max-width: 100%;
    max-height: 100%;
    margin: 0;
    padding: 0;
  } 

  /* Provide space to entries */
  .reveal div.qwebr-output-code-area pre div {
    margin: 1px 2px 1px 10px;
  }

  /* Collapse the inside code tags to avoid extra space between line outputs */
  .reveal pre div code.qwebr-output-code-stdout, .reveal pre div code.qwebr-output-code-stderr {
    padding: 0;
    display: contents;
  }

  .reveal pre div code.qwebr-output-code-stdout {
    color: #111;
  }

  .reveal pre div code.qwebr-output-code-stderr {
    color: #db4133;
  }


  /* Create a border around console and output (does not effect graphs) */
  .reveal div.qwebr-console-area {
    border: 1px solid #EEEEEE;
    box-shadow: 2px 2px 10px #EEEEEE;
  }

  /* Cap output height and allow text to scroll */
  /* TODO: Is there a better way to fit contents/max it parallel to the monaco editor size? */
  .reveal div.qwebr-output-code-area pre {
    max-height: 400px;
    overflow: scroll;
  }

  </style>
  <script type="module">
  // Document level settings ----

  // Determine if we need to install R packages
  globalThis.qwebrInstallRPackagesList = ['word2vec'];

  // Specify possible locations to search for the repository
  globalThis.qwebrPackageRepoURLS = ['https://repo.r-wasm.org/'];

  // Check to see if we have an empty array, if we do set to skip the installation.
  globalThis.qwebrSetupRPackages = !(qwebrInstallRPackagesList.indexOf("") !== -1);
  globalThis.qwebrAutoloadRPackages = true;

  // Display a startup message?
  globalThis.qwebrShowStartupMessage = false;
  globalThis.qwebrShowHeaderMessage = false;

  // Describe the webR settings that should be used
  globalThis.qwebrCustomizedWebROptions = {
    "baseURL": "https://webr.r-wasm.org/v0.2.2/",
    "serviceWorkerUrl": "",
    "homedir": "/home/web_user", 
    "channelType": "ChannelType.Automatic"
  };

  // Store cell data
  globalThis.qwebrCellDetails = [{"code":"url <- \"https://dhintz137.github.io/Embedding_Presentation/raw-data/King_Man_Woman_Queen_pred.csv\"\ndownload.file(url, \"King_Man_Woman_Queen_pred.csv\")\nKing_Man_Woman_Queen_pred <- read.csv(\"King_Man_Woman_Queen_pred\")\nhead(King_Man_Woman_Queen_pred)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-1","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":1},{"code":"url <- \"https://dhintz137.github.io/Embedding_Presentation/raw-data/King_Man_Woman_Queen_pred.csv\"\ndownload.file(url, \"King_Man_Woman_Queen_pred.csv\")\nlist.files()\npred_from_csv <- read.csv(\"King_Man_Woman_Queen_pred.csv\")","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-2","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":2},{"code":"# First let's make some data to play with.\nvec_dat <- data.frame(x = 1:5, y = NA_real_)\nvec_dat\nloop_dat <- data.frame(t = 1:5, N = NA_real_)\nloop_dat\n\n# What is the difference between vectorization and iteration?\nvec_dat$y <- 4*vec_dat$x + 3\nvec_dat\n\nloop_dat$N[1] <- 2\nfor(i in 1:4) {\n  loop_dat$N[i + 1] <- loop_dat$N[i]*exp(0.5*(1 - loop_dat$N[i]/30))\n}\nloop_dat","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-3","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":3},{"code":"# This is a stupid example, but it creates some data for us.\nfor(i in 1:20) {\n  write.csv(data.frame(ID = paste0(\"DataLogger-\", i),\n                    Temperature = runif(30, 10, 20),\n                    Wind = runif(30, 0, 15),\n                    Battery = \"Normal\"),\n            paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))\n}\n\n# Now lets check our work.\nlist.files(getwd(), pattern = \"WeatherStation_\")","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-4","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":4},{"code":"# This is the code we just wrote.\nfor(i in 1:20) {write.csv(data.frame(ID = paste0(\"DataLogger-\", i),\n                Temperature = runif(30, 10, 20), Wind = runif(30, 0, 15),\n                Battery = \"Normal\"),paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))}\n\n# What if we want to read in a bunch of data files?\ndf <- lapply(paste0(getwd(), \"/\", list.files(getwd(), pattern = \".csv\")), read.csv)\n\nlapply(df, function(x) head(x,3))[1:2]\n\ndf2 <- do.call(rbind, lapply(paste0(getwd(), \"/\",\n                             list.files(getwd(), pattern = \".csv\")), read.csv))\nhead(df2)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-5","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":5},{"code":"# Create some genetic data.\ngenetic_data <- data.frame(matrix(data = sample(c(\"A\", \"T\", \"G\", \"C\"), 3000, replace = TRUE),\n                                  nrow = 300, ncol = 10))\nhead(genetic_data)\n\n# I want to know how many A's there are in each column.\napply(genetic_data, 2, table)[1,]","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-6","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":6},{"code":"if(TRUE) {print(\"I have to work today.\")}\n\nif(FALSE) {print(\"I have to work today.\")\n} else {print(\"It is the weekend!\")}\n\nif(FALSE) {print(\"I have to work today.\")\n} else if(TRUE) {print(\"It is the weekend!\")}\n\nx <- 10\nx == 10\nx != 10","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-7","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":7},{"code":"column1 <- c(1:10, NA)\ncolumn1\nany(is.na(column1))\nis.numeric(column1)\n!is.numeric(column1)\n\nifelse(TRUE, \"cold\", \"hot\")\n\n# Make some data.\ndf2 <- data.frame(ID = \"DataLogger-20\", Temperature = runif(30, 10, 20),\n                  Wind = runif(30, 0, 15), Battery = \"Normal\")\n                    \nhead(df2)\ndf2$WindClass <- ifelse(df2$Wind >= 10, \"Windy\", \"Still\")","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-8","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":8},{"code":"# This is the code from before to make the data.\nfor(i in 1:20) {\nwrite.csv(data.frame(ID = paste0(\"DataLogger-\", i), Temperature = runif(30, 10, 20),\nWind = runif(30, 0, 15), Battery = \"Normal\"), paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-9","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":9},{"code":"# This is the code from before to make the data.\nfor(i in 1:20) {\nwrite.csv(data.frame(ID = paste0(\"DataLogger-\", i), Temperature = runif(30, 10, 20),\nWind = runif(30, 0, 15), Battery = \"Normal\"), paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))}\n\nfor(i in seq_along(list.files(getwd(), pattern = \"WeatherStation_\"))) {\n  tmp <- read.csv(paste0(getwd(), \"/\", list.files(getwd(), pattern = \".csv\"))[i])\n  if(i == 1) {weather_dat <- tmp\n  } else {weather_dat <- rbind(weather_dat, tmp)}}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-10","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":10},{"code":"# This is the code from before to make the data.\nfor(i in 1:20) {\nwrite.csv(data.frame(ID = paste0(\"DataLogger-\", i), Temperature = runif(30, 10, 20),\nWind = runif(30, 0, 15), Battery = \"Normal\"), paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))}\n\n# Use this code to put some NA's into the \"Weather Station\" files.\nwrite.csv(data.frame(ID = \"DataLogger-7\", Temperature = c(runif(28, 10, 20), NA, NA),\n          Wind = c(runif(28, 0, 15), NA, NA), Battery = c(rep(\"Normal\", 28), \"Low\", \"Low\")),\n          paste0(getwd(), \"/WeatherStation_7.csv\"))\n\n","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-11","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":11},{"code":"# This is the code from before to make the data.\nfor(i in 1:20) {\nwrite.csv(data.frame(ID = paste0(\"DataLogger-\", i), Temperature = runif(30, 10, 20),\nWind = runif(30, 0, 15), Battery = \"Normal\"), paste0(getwd(), \"/WeatherStation_\", i, \".csv\"))}\n\n# Use this code to put some NA's into the \"Weather Station\" files.\nwrite.csv(data.frame(ID = \"DataLogger-7\", Temperature = c(runif(28, 10, 20), NA, NA),\n          Wind = c(runif(28, 0, 15), NA, NA), Battery = c(rep(\"Normal\", 28), \"Low\", \"Low\")),\n          paste0(getwd(), \"/WeatherStation_7.csv\"))\n\nfor(i in seq_along(list.files(getwd(), pattern = \"WeatherStation_\"))) {\n  tmp <- read.csv(paste0(getwd(), \"/\", list.files(getwd(), pattern = \".csv\"))[i])\n  if(!any(is.na(tmp))) {\n  if(i == 1) {weather_dat <- tmp\n  } else {weather_dat <- rbind(weather_dat, tmp)}}}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-12","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":12},{"code":"dat <- data.frame(A = rnorm(100, 10, 5), B = rpois(100, 10), C = rnorm(100, 50, 10),\n                  X = runif(100, 0, 100), Y = rbeta(100, 1, 2), Z = rnorm(100, 0, 1))\n","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-13","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":13},{"code":"dat <- data.frame(A = rnorm(100, 10, 5), B = rpois(100, 10), C = rnorm(100, 50, 10),\n                  X = runif(100, 0, 100), Y = rbeta(100, 1, 2), Z = rnorm(100, 0, 1))\n\napply(dat, 2, shapiro.test)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-14","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":14},{"code":"# Make some data.\ndf2 <- data.frame(X = 1:30, ID = \"DataLogger-20\", Temperature = runif(30, 10, 20),\n                  Wind = runif(30, 0, 15), Battery = \"Normal\")\n","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-15","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":15},{"code":"# Make some data.\ndf2 <- data.frame(X = 1:30, ID = \"DataLogger-20\", Temperature = runif(30, 10, 20),\n                  Wind = runif(30, 0, 15), Battery = \"Normal\")\n\ndf2$Week <- ifelse(df2$X <= 7, 1,\n              ifelse(df2$X >= 8 & df2$X <= 14, 2,\n                ifelse(df2$X >= 15 & df2$X <= 21, 3,\n                  ifelse(df2$X >= 22 & df2$X <= 28, 4, NA))))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-16","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":16},{"code":"i <- function(x) x^2 # same as `i <- function(x) print(x^2)`\ni(3)\nj <- function(x) return(x^2)\nj(3)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-17","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":17},{"code":"k <- function(x) {X = x^2; Y = x^3}\nk(3) # nothing is printed to the screen, last assignment is returned as an invisible()\npaste(\"k(3):\", k(3))\nk_val = k(3); k_val","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-18","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":18},{"code":"l <- function(x) {X = x^2; Y = x^3; Z = x^4; invisible(x+1)}\nl(3)\npaste(\"l(3):\", l(3))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-19","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":19},{"code":"m <- function(x){X = x^2; invisible(x+1); Y = x^3}\npaste(m(3))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-20","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":20},{"code":"f <- function(x) x^2\nf\nformals(f) #> $x\nbody(f) #> x^2\nenvironment(f) # <environment: R_GlobalEnv>","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-21","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":21},{"code":"k <- function() list(ls(),environment())\nk() # k() has its own environment\nlist(ls()[1:5],environment()) \n# all other environments sit on top of the global environments ","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-22","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":22},{"code":"f1 <- function(){L = 1; L}\nf1()\nL # Error: object 'L' not found\n\nK = 3\nf2 <- function() {K} \nf2() # Functions can access the global environment\n\nf3 <- function() {L <<- 10} \nf3() # returns L to the parent environment\nL    # now we also prints L from global environment\n\nremove(L)\nf4 <- function(){L = 100; f3(); L}\nf4()\nL\n# Avoid using `<<-` when possible!!","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-23","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":23},{"code":"f <- function(a = 1) a\nf()","options":{"context":"interactive","message":"true","label":"unnamed-chunk-24","fig-width":7,"read-only":"false","results":"markup","echo":"true","fig-height":5,"comment":"","fig-cap":"","classes":"","autorun":"false","out-width":"700px","out-height":"","output":"true","warning":"true","dpi":72},"id":24},{"code":"f <- function(a, b = NULL) c(a,b)\nf(1)\nf(1,2)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-25","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":25},{"code":"message(\"notify the user, although we are not indicating any problems\")\n\nwarning(\"notify the user of something potentially problematic\")\n\nstop(\"A condition has been met that is problematic enough to warrant forcing an error.\")\n","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-26","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":26},{"code":"k <- function(a,b) a^(b)\nf <- function(a, b = NULL) {\n  if(is.null(b)){\n    warning(\"{warning()} b is missing, just returning `a`\")\n    return(a)\n  } \n  if(a < 0 && b == 1/2){\n    stop(\"{stop()} can't take the sqrt of a negative number\")\n  } else {\n    message(\"{message()} function completion without conditional execution\")\n    a^(b)\n  }\n}\nk(1) # error without user defined error handling \nf(1) # here we see the `NULL` Conditional Execution\nf(-2,1/2)\nf(3,2)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-27","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":27},{"code":"f <- function(a, b, c) {\n  if(missing(c)) {\n  return(sum(a,b))\n    }\n  if(!missing(c)) {\n  return(sum(a,b,c))\n    }\n}\nf(1,2)\nf(1,2,3)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-28","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":28},{"code":"f1 <- function(x, ...){...length()}\nf1(1)      # 0 argument passed to `...`\nf1(1,2)    # 1 arguments passed to `...`\nf1(1,2,3)  # 2 arguments passed to `...`\n\nf2 <- function(x, ...){list(...)}\nf2(1,2,3) # `1` passed to `x`, `2` and `3` passed to `...`","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-29","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":29},{"code":"rnorm\nrandom_num_gen <- function(x, ...) {\n  rnorm(x, ...)\n}\n\nset.seed(1); random_num_gen(5)\nset.seed(1); random_num_gen(5, mean = 3, sd = 1.5)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-30","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":30},{"code":"# mean and median defined with `...`\nf3 <- function(x, ...){\n  out <- list(mean(x, ...), median(x, ...))\n  out\n}\n\n(k = c(1:8,NA))\nf3(x=k, na.rm = TRUE)                                        # Works \nf3(x=k, na.rm = TRUE, random_message = \"Save the bees\")      # Works \n\n# matrix not defined with \"...\"\nf4 <- function(x, ...){\n  out <- list(mean(x, ...), median(x, ...), matrix(x,...))\n  return(out)\n}\n\nf4(x=k, na.rm = TRUE)                                        # Fails\nlist(mean(k,na.rm = TRUE),median(k,na.rm = TRUE),matrix(k))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-31","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":31},{"code":"defined_arguments <- function(...){\n  f <- list(...);out = lapply(f,function(x) names(formals(x)))\n  names(out) = as.character(substitute(list(...)))[-1];out\n}","options":{"context":"setup","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-32","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"true","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":32},{"code":"defined_arguments(matrix, data.frame, as.data.frame) # which are defined with `...` ?\n(k = c(1:3,NA))\n\nmatrix(k, na.rm = TRUE)\ndata.frame(k, na.rm = TRUE)\nas.data.frame(k,na.rm = TRUE)\n\nf5 <- function(x, ...){\n  out <- list(mean(x, ...), median(x, ...), as.data.frame(x,...))\n  return(out)\n}\nf5(x=k, na.rm = TRUE)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-33","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":33},{"code":"function(x) x * 2\nsapply(1:5,function(x) x * 2)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-34","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":34},{"code":"library(purrr)\n# ~ .x * 2  or \\(x) x*2\nmap_dbl(1:5,~ .x * 2)\nmap_dbl(1:5,\\(x) x*2)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-35","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":35},{"code":"(X <- cbind(x1 = 3, x2 = c(4:1, 2:5)))\n\napply(X, 1, mean) # row-wise \napply(X, 2, mean) # col-wise","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-36","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":36},{"code":"(J = array(rep(1,12), c(2, 2, 3)))\napply(J, c(1), sum)\napply(J, c(2), sum)\napply(J, c(3), sum)\napply(J, c(1,2), sum)\napply(J, c(1,3), sum)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-37","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":37},{"code":"(Y <- list(a = 1:10, beta = exp(-3:3)))\n\nsapply(Y, quantile)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-38","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":38},{"code":"(Y <- list(a = 1:10, beta = exp(-3:3)))\n\nlapply(Y, quantile)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-39","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":39},{"code":"try2 <- function(x,m){tryCatch({x}, error =function(e) {finally = print(m)})}\n(Y <- list(a = 1:10, beta = exp(-3:3)))\n\ntry2(vapply(Y,quantile),\"Error:`FUN.VALUE` is missing\")\nvapply(Y,quantile,seq(0, 1, 0.25))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-40","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":40},{"code":"W <- warpbreaks; head(W,3) \n\n# contingency table \ntapply(W$breaks, subset(W, select = -breaks), sum) ","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-41","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":41},{"code":"(Z <- lapply(rep(2,2), function(x) data.frame(x=rnorm(x))))\n\ndo.call(cbind, Z)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-42","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":42},{"code":"abs_dif <- function(x,y) abs(x-y)\nmapply(abs_dif, c(2,10), c(2,30))\n\nmapply(sum, c(1,2,3,5), c(1,2,3,10),c(1,2,3,15))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-43","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":43},{"code":"abs_dif <- function(x,y) abs(x-y)\nMap(abs_dif, c(2,10), c(2,30))\n\nMap(sum, c(1,2,3,5), c(1,2,3,10),c(1,2,3,15))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-44","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":44},{"code":"set.seed(1)\n(L <- purrr::map(1:3, ~ sample(1:3, 5, replace = T)))\n\nintersect(c(1,2,3), c(1,2,4)) # demo of intersect()\nReduce(intersect,L)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-45","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":45},{"code":"set.seed(0); 1:5 |> map(rnorm, n = 4)\n\n# You can also use an anonymous function\nset.seed(0); 1:5 |> map(\\(x) rnorm(n=4, mean = x, sd = 1))\nset.seed(0); 1:5 |> map(~ rnorm(n=4, mean = .x, sd = 1))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-46","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":46},{"code":"x <- list(1, 1, 1)\ny <- list(10, 20, 30)\n\nmap2(x, y, \\(x, y) x + y)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-47","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":47},{"code":"x <- list(1, 1, 1)\ny <- list(10, 20, 30)\nz <- list(100, 200, 300)\n\npmap(list(x, y, z), sum)\n\nset.seed(0); list(1:2,1:2,1:2) |> pmap(\\(x,y,z) rhyper(3, m = x, n = y, k = z))\n# These numbers represent the number of white balls drawn in each of the 3 draws from the urn","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-48","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":48},{"code":"set.seed(1)\n(L <- purrr::map(1:3, ~ sample(1:3, 5, replace = T)))\n\npurrr::reduce(L,intersect)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-49","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":49},{"code":"is_positive <- function(x) {\n\n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-50","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":50},{"code":"is_positive <- function(x) {\n  if (x > 0) {\n    TRUE\n  } else {\n    FALSE\n  }\n}\n\nis_positive(5)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-51","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":51},{"code":"sqrt_safe <- function(x) {\n\n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-52","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":52},{"code":"sqrt_safe <- function(x) {\n  if (x < 0) {\n    stop(\"Cannot take square root of a negative number.\")\n  }\n  sqrt(x)\n}\nsqrt_safe(-2)\nsqrt_safe(5)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-53","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":53},{"code":"find_first_negative <- function(vec) {\n\n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-54","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":54},{"code":"find_first_negative <- function(vec) {\n  for (i in 1:length(vec)) {\n    if (vec[i] < 0) {\n      return(i)\n    }\n  }\n  NA\n}\n\nfind_first_negative(c(5, 2, -4, 6, -1))","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-55","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":55},{"code":"halve_until_less_than_one <- function(x) {\n\n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-56","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":56},{"code":"halve_until_less_than_one <- function(x) {\n  count = 0\n  while (x >= 1) {\n    x <- x / 2\n    count <- count+1\n  }\n  list(result = x, nsteps = count)\n}\nhalve_until_less_than_one(14)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-57","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":57},{"code":"set.seed(1)\nM <- as.data.frame(\n  lapply(c(400,400), function(x) data.frame(x=rgamma(x, shape =2, scale = 2)))\n  )\n\nscale_columns <- function(mat) {\n  \n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-58","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":58},{"code":"set.seed(1)\nM <- as.data.frame(\n  lapply(c(400,400), function(x) data.frame(x=rgamma(x, shape =2, scale = 2)))\n  )\n\nscale_columns <- function(mat) {\n  apply(mat, 2, function(x) (x - mean(x)) / sd(x))\n}\n\nM_new <- scale_columns(M)\npar(mfrow = c(1,2))\nhist(M$x);hist(M_new)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-59","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":59},{"code":"set.seed(1)\n(K <- lapply(rep(4,3), rnorm))\n\nlibrary(purrr)\ncalc_means <- function(list_of_vectors) {\n  \n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-60","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":60},{"code":"set.seed(1)\n(K <- lapply(rep(4,3), rnorm))\n\nlibrary(purrr)\ncalc_means <- function(list_of_vectors) {\n  map_dbl(list_of_vectors, mean)\n}\n\ncalc_means(K)","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-61","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":61},{"code":"multiply_and_add <- function(...) {\n  \n}","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-62","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":62},{"code":"multiply_and_add <- function(...) {\n  vectors <- list(...)\n  result <- 0\n  for (i in seq_along(vectors)) {\n    result <- result + sum(vectors[[i]] * i)\n  }\n  result\n}\nmultiply_and_add(c(1,2),c(3,4))\n# ie \nsum(c(1, 2) * 1) + sum(c(3, 4) * 2)  ","options":{"context":"interactive","message":"true","out-width":"700px","comment":"","label":"unnamed-chunk-63","fig-height":5,"warning":"true","fig-cap":"","read-only":"false","classes":"","autorun":"false","output":"true","fig-width":7,"results":"markup","out-height":"","dpi":72},"id":63}];

  </script>
  <script type="module">
  // Declare startupMessageQWebR globally
  globalThis.qwebrStartupMessage = document.createElement("p");


  // Function to set the button text
  globalThis.qwebrSetInteractiveButtonState = function(buttonText, enableCodeButton = true) {
    document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
      btn.innerHTML = buttonText;
      btn.disabled = !enableCodeButton;
    });
  }

  // Function to update the status message in non-interactive cells
  globalThis.qwebrUpdateStatusMessage = function(message) {
    document.querySelectorAll(".qwebr-status-text.qwebr-cell-needs-evaluation").forEach((elem) => {
      elem.innerText = message;
    });
  }

  // Function to update the status message
  globalThis.qwebrUpdateStatusHeader = function(message) {
    qwebrStartupMessage.innerHTML = `
      <i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i>
      <span>${message}</span>`;
  }

  // Function that attaches the document status message and diagnostics
  function displayStartupMessage(showStartupMessage, showHeaderMessage) {
    if (!showStartupMessage) {
      return;
    }

    // Get references to header elements
    const headerHTML = document.getElementById("title-block-header");
    const headerRevealJS = document.getElementById("title-slide");

    // Create the outermost div element for metadata
    const quartoTitleMeta = document.createElement("div");
    quartoTitleMeta.classList.add("quarto-title-meta");

    // Create the first inner div element
    const firstInnerDiv = document.createElement("div");
    firstInnerDiv.setAttribute("id", "qwebr-status-message-area");

    // Create the second inner div element for "WebR Status" heading and contents
    const secondInnerDiv = document.createElement("div");
    secondInnerDiv.setAttribute("id", "qwebr-status-message-title");
    secondInnerDiv.classList.add("quarto-title-meta-heading");
    secondInnerDiv.innerText = "WebR Status";

    // Create another inner div for contents
    const secondInnerDivContents = document.createElement("div");
    secondInnerDivContents.setAttribute("id", "qwebr-status-message-body");
    secondInnerDivContents.classList.add("quarto-title-meta-contents");

    // Describe the WebR state
    qwebrStartupMessage.innerText = " Loading...";
    qwebrStartupMessage.setAttribute("id", "qwebr-status-message-text");
    // Add `aria-live` to auto-announce the startup status to screen readers
    qwebrStartupMessage.setAttribute("aria-live", "assertive");

    // Append the startup message to the contents
    secondInnerDivContents.appendChild(qwebrStartupMessage);

    // Add a status indicator for COOP and COEP Headers if needed
    if (showHeaderMessage) {
      const crossOriginMessage = document.createElement("p");
      crossOriginMessage.innerText = `${crossOriginIsolated ? '' : ''} COOP & COEP Headers`;
      crossOriginMessage.setAttribute("id", "qwebr-coop-coep-header");
      secondInnerDivContents.appendChild(crossOriginMessage);
    }

    // Combine the inner divs and contents
    firstInnerDiv.appendChild(secondInnerDiv);
    firstInnerDiv.appendChild(secondInnerDivContents);
    quartoTitleMeta.appendChild(firstInnerDiv);

    // Determine where to insert the quartoTitleMeta element
    if (headerHTML || headerRevealJS) {
      // Append to the existing "title-block-header" element or "title-slide" div
      (headerHTML || headerRevealJS).appendChild(quartoTitleMeta);
    } else {
      // If neither headerHTML nor headerRevealJS is found, insert after "webr-monaco-editor-init" script
      const monacoScript = document.getElementById("qwebr-monaco-editor-init");
      const header = document.createElement("header");
      header.setAttribute("id", "title-block-header");
      header.appendChild(quartoTitleMeta);
      monacoScript.after(header);
    }
  }

  displayStartupMessage(qwebrShowStartupMessage, qwebrShowHeaderMessage);
  </script>
  <script type="module">
  // Supported Evaluation Types for Context
  globalThis.EvalTypes = Object.freeze({
    Interactive: 'interactive',
    Setup: 'setup',
    Output: 'output',
  });

  // Function that dispatches the creation request
  globalThis.qwebrCreateHTMLElement = function (
    cellData
  ) {

    // Extract key components
    const evalType = cellData.options.context;
    const qwebrCounter = cellData.id;

    // We make an assumption that insertion points are defined by the Lua filter as:
    // qwebr-insertion-location-{qwebrCounter} 
    const elementLocator = document.getElementById(`qwebr-insertion-location-${qwebrCounter}`);

    // Figure out the routine to use to insert the element.
    let qwebrElement;
    switch ( evalType ) {
      case EvalTypes.Interactive:
        qwebrElement = qwebrCreateInteractiveElement(qwebrCounter, cellData.options);
        break;
      case EvalTypes.Output: 
        qwebrElement = qwebrCreateNonInteractiveOutputElement(qwebrCounter, cellData.options);
        break;
      case EvalTypes.Setup: 
        qwebrElement = qwebrCreateNonInteractiveSetupElement(qwebrCounter, cellData.options);
        break;
      default: 
        qwebrElement = document.createElement('div');
        qwebrElement.textContent = 'Error creating `quarto-webr` element';
    }

    // Insert the dynamically generated object at the document location.
    elementLocator.appendChild(qwebrElement);
  };

  // Function that setups the interactive element creation
  globalThis.qwebrCreateInteractiveElement = function (qwebrCounter, qwebrOptions) {

    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = 'qwebr-interactive-area-' + qwebrCounter;
    mainDiv.className = `qwebr-interactive-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }

    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }

    // Create toolbar div
    var toolbarDiv = document.createElement('div');
    toolbarDiv.className = 'qwebr-editor-toolbar';
    toolbarDiv.id = 'qwebr-editor-toolbar-' + qwebrCounter;

    // Create a div to hold the left buttons
    var leftButtonsDiv = document.createElement('div');
    leftButtonsDiv.className = 'qwebr-editor-toolbar-left-buttons';

    // Create a div to hold the right buttons
    var rightButtonsDiv = document.createElement('div');
    rightButtonsDiv.className = 'qwebr-editor-toolbar-right-buttons';

    // Create Run Code button
    var runCodeButton = document.createElement('button');
    runCodeButton.className = 'btn btn-default qwebr-button qwebr-button-run';
    runCodeButton.disabled = true;
    runCodeButton.type = 'button';
    runCodeButton.id = 'qwebr-button-run-' + qwebrCounter;
    runCodeButton.textContent = ' Loading webR...';
    runCodeButton.title = `Run code (Shift + Enter)`;

    // Append buttons to the leftButtonsDiv
    leftButtonsDiv.appendChild(runCodeButton);

    // Create Reset button
    var resetButton = document.createElement('button');
    resetButton.className = 'btn btn-light btn-xs qwebr-button qwebr-button-reset';
    resetButton.type = 'button';
    resetButton.id = 'qwebr-button-reset-' + qwebrCounter;
    resetButton.title = 'Start over';
    resetButton.innerHTML = '<i class="fa-solid fa-arrows-rotate"></i>';

    // Create Copy button
    var copyButton = document.createElement('button');
    copyButton.className = 'btn btn-light btn-xs qwebr-button qwebr-button-copy';
    copyButton.type = 'button';
    copyButton.id = 'qwebr-button-copy-' + qwebrCounter;
    copyButton.title = 'Copy code';
    copyButton.innerHTML = '<i class="fa-regular fa-copy"></i>';

    // Append buttons to the rightButtonsDiv
    rightButtonsDiv.appendChild(resetButton);
    rightButtonsDiv.appendChild(copyButton);

    // Create console area div
    var consoleAreaDiv = document.createElement('div');
    consoleAreaDiv.id = 'qwebr-console-area-' + qwebrCounter;
    consoleAreaDiv.className = 'qwebr-console-area';

    // Create editor div
    var editorDiv = document.createElement('div');
    editorDiv.id = 'qwebr-editor-' + qwebrCounter;
    editorDiv.className = 'qwebr-editor';

    // Create output code area div
    var outputCodeAreaDiv = document.createElement('div');
    outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
    outputCodeAreaDiv.className = 'qwebr-output-code-area';
    outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

    // Create pre element inside output code area
    var preElement = document.createElement('pre');
    preElement.style.visibility = 'hidden';
    outputCodeAreaDiv.appendChild(preElement);

    // Create output graph area div
    var outputGraphAreaDiv = document.createElement('div');
    outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
    outputGraphAreaDiv.className = 'qwebr-output-graph-area';

    // Append buttons to the toolbar
    toolbarDiv.appendChild(leftButtonsDiv);
    toolbarDiv.appendChild(rightButtonsDiv);

    // Append all elements to the main div
    mainDiv.appendChild(toolbarDiv);
    consoleAreaDiv.appendChild(editorDiv);
    consoleAreaDiv.appendChild(outputCodeAreaDiv);
    mainDiv.appendChild(consoleAreaDiv);
    mainDiv.appendChild(outputGraphAreaDiv);

    return mainDiv;
  }

  // Function that adds output structure for non-interactive output
  globalThis.qwebrCreateNonInteractiveOutputElement = function(qwebrCounter, qwebrOptions) {
    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = 'qwebr-noninteractive-area-' + qwebrCounter;
    mainDiv.className = `qwebr-noninteractive-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }
    
    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }
    
    // Create a status container div
    var statusContainer = createLoadingContainer(qwebrCounter);

    // Create output code area div
    var outputCodeAreaDiv = document.createElement('div');
    outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
    outputCodeAreaDiv.className = 'qwebr-output-code-area';
    outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

    // Create pre element inside output code area
    var preElement = document.createElement('pre');
    preElement.style.visibility = 'hidden';
    outputCodeAreaDiv.appendChild(preElement);

    // Create output graph area div
    var outputGraphAreaDiv = document.createElement('div');
    outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
    outputGraphAreaDiv.className = 'qwebr-output-graph-area';

    // Append all elements to the main div
    mainDiv.appendChild(statusContainer);
    mainDiv.appendChild(outputCodeAreaDiv);
    mainDiv.appendChild(outputGraphAreaDiv);

    return mainDiv;
  };

  // Function that adds a stub in the page to indicate a setup cell was used.
  globalThis.qwebrCreateNonInteractiveSetupElement = function(qwebrCounter, qwebrOptions) {
    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = `qwebr-noninteractive-setup-area-${qwebrCounter}`;
    mainDiv.className = `qwebr-noninteractive-setup-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }


    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }

    // Create a status container div
    var statusContainer = createLoadingContainer(qwebrCounter);

    // Append status onto the main div
    mainDiv.appendChild(statusContainer);

    return mainDiv;
  }


  // Function to create loading container with specified ID
  globalThis.createLoadingContainer = function(qwebrCounter) {

    // Create a status container
    const container = document.createElement('div');
    container.id = `qwebr-non-interactive-loading-container-${qwebrCounter}`;
    container.className = 'qwebr-non-interactive-loading-container qwebr-cell-needs-evaluation';

    // Create an R project logo to indicate its a code space
    const rProjectIcon = document.createElement('i');
    rProjectIcon.className = 'fa-brands fa-r-project fa-3x qwebr-r-project-logo';

    // Setup a loading icon from font awesome
    const spinnerIcon = document.createElement('i');
    spinnerIcon.className = 'fa-solid fa-spinner fa-spin fa-1x qwebr-icon-status-spinner';

    // Add a section for status text
    const statusText = document.createElement('p');
    statusText.id = `qwebr-status-text-${qwebrCounter}`;
    statusText.className = `qwebr-status-text qwebr-cell-needs-evaluation`;
    statusText.innerText = 'Loading webR...';

    // Incorporate an inner container
    const innerContainer = document.createElement('div');

    // Append elements to the inner container
    innerContainer.appendChild(spinnerIcon);
    innerContainer.appendChild(statusText);

    // Append elements to the main container
    container.appendChild(rProjectIcon);
    container.appendChild(innerContainer);

    return container;
  }
  </script>
  <script type="module">
  // Function to install a single package
  async function qwebrInstallRPackage(packageName) {
    await mainWebR.evalRVoid(`webr::install('${packageName}');`);
  }

  // Function to load a single package
  async function qwebrLoadRPackage(packageName) {
    await mainWebR.evalRVoid(`require('${packageName}', quietly = TRUE)`);
  }

  // Generic function to process R packages
  async function qwebrProcessRPackagesWithStatus(packages, processType, displayStatusMessageUpdate = true) {
    // Switch between contexts
    const messagePrefix = processType === 'install' ? 'Installing' : 'Loading';

    // Modify button state
    qwebrSetInteractiveButtonState(` ${messagePrefix} package ...`, false);

    // Iterate over packages
    for (let i = 0; i < packages.length; i++) {
      const activePackage = packages[i];
      const formattedMessage = `${messagePrefix} package ${i + 1} out of ${packages.length}: ${activePackage}`;

      // Display the update in header
      if (displayStatusMessageUpdate) {
        qwebrUpdateStatusHeader(formattedMessage);
      }

      // Display the update in non-active areas
      qwebrUpdateStatusMessage(formattedMessage);

      // Run package installation
      if (processType === 'install') {
        await qwebrInstallRPackage(activePackage);
      } else {
        await qwebrLoadRPackage(activePackage);
      }
    }

    // Clean slate
    if (processType === 'load') {
      await mainWebR.flush();
    }
  }

  // Start a timer
  const initializeWebRTimerStart = performance.now();

  // Encase with a dynamic import statement
  globalThis.qwebrInstance = import(qwebrCustomizedWebROptions.baseURL + "webr.mjs").then(
    async ({ WebR, ChannelType }) => {
      // Populate WebR options with defaults or new values based on `webr` meta
      globalThis.mainWebR = new WebR(qwebrCustomizedWebROptions);

      // Initialization WebR
      await mainWebR.init();

      // Setup a shelter
      globalThis.mainWebRCodeShelter = await new mainWebR.Shelter();

      // Setup a pager to allow processing help documentation 
      await mainWebR.evalRVoid('webr::pager_install()'); 

      // Override the existing install.packages() to use webr::install()
      await mainWebR.evalRVoid('webr::shim_install()'); 

      // Specify the repositories to pull from
      // Note: webR does not use the `repos` option, but instead uses `webr_pkg_repos`
      // inside of `install()`. However, other R functions still pull from `repos`.
      await mainWebR.evalRVoid(`
        options(
          webr_pkg_repos = c(${qwebrPackageRepoURLS.map(repoURL => `'${repoURL}'`).join(',')}),
          repos = c(${qwebrPackageRepoURLS.map(repoURL => `'${repoURL}'`).join(',')})
        )
      `);

      // Check to see if any packages need to be installed
      if (qwebrSetupRPackages) {
        // Obtain only a unique list of packages
        const uniqueRPackageList = Array.from(new Set(qwebrInstallRPackagesList));

        // Install R packages one at a time (either silently or with a status update)
        await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'install', qwebrShowStartupMessage);

        if (qwebrAutoloadRPackages) {
          // Load R packages one at a time (either silently or with a status update)
          await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'load', qwebrShowStartupMessage);
        }
      }
    }
  );

  // Stop timer
  const initializeWebRTimerEnd = performance.now();

  </script>
  <script type="module">
  // Function to verify a given JavaScript Object is empty
  globalThis.qwebrIsObjectEmpty = function (arr) {
      return Object.keys(arr).length === 0;
  }

  // Global version of the Escape HTML function that converts HTML 
  // characters to their HTML entities.
  globalThis.qwebrEscapeHTMLCharacters = function(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    };

  // Passthrough results
  globalThis.qwebrIdentity = function(x) {
      return x;
  };

  // Append a comment
  globalThis.qwebrPrefixComment = function(x, comment) {
      return `${comment}${x}`;
  };

  // Function to parse the pager results
  globalThis.qwebrParseTypePager = async function (msg) { 

      // Split out the event data
      const { path, title, deleteFile } = msg.data; 

      // Process the pager data by reading the information from disk
      const paged_data = await mainWebR.FS.readFile(path).then((data) => {
          // Obtain the file content
          let content = new TextDecoder().decode(data);

          // Remove excessive backspace characters until none remain
          while(content.match(/.[\b]/)){
          content = content.replace(/.[\b]/g, '');
          }

          // Returned cleaned data
          return content;
      });

      // Unlink file if needed
      if (deleteFile) { 
          await mainWebR.FS.unlink(path); 
      } 

      // Return extracted data with spaces
      return paged_data;
  } 

  // Function to run the code using webR and parse the output
  globalThis.qwebrComputeEngine = async function(
      codeToRun, 
      elements, 
      options) {

      // Call into the R compute engine that persists within the document scope.
      // To be prepared for all scenarios, the following happens: 
      // 1. We setup a canvas device to write to by making a namespace call into the {webr} package
      // 2. We use values inside of the options array to set the figure size.
      // 3. We capture the output stream information (STDOUT and STERR)
      // 4. While parsing the results, we disable image creation.

      // Create a canvas variable for graphics
      let canvas = undefined;

      // Create a pager variable for help/file contents
      let pager = [];

      // Handle how output is processed
      let showMarkup = options.results === "markup" && options.output !== "asis";
      let processOutput;

      if (showMarkup) {
          processOutput = qwebrEscapeHTMLCharacters;
      } else {
          processOutput = qwebrIdentity;
      }

      // ---- 
      // Convert from Inches to Pixels by using DPI (dots per inch)
      // for bitmap devices (dpi * inches = pixels)
      let fig_width = options["fig-width"] * options["dpi"]
      let fig_height = options["fig-height"] * options["dpi"]

      // Initialize webR
      await mainWebR.init();

      // Setup a webR canvas by making a namespace call into the {webr} package
      await mainWebR.evalRVoid(`webr::canvas(width=${fig_width}, height=${fig_height})`);

      const result = await mainWebRCodeShelter.captureR(codeToRun, {
          withAutoprint: true,
          captureStreams: true,
          captureConditions: false//,
          // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
      });

      // -----

      // Start attempting to parse the result data
      processResultOutput:try {

          // Stop creating images
          await mainWebR.evalRVoid("dev.off()");
          
          // Avoid running through output processing
          if (options.results === "hide" || options.output === "false") { 
              break processResultOutput; 
          }

          // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
          // Require both `warning` and `message` to be true to display `STDErr`. 
          const out = result.output
          .filter(
              evt => evt.type === "stdout" || 
              ( evt.type === "stderr" && (options.warning === "true" && options.message === "true")) 
          )
          .map((evt, index) => {
              const className = `qwebr-output-code-${evt.type}`;
              const outputResult = qwebrPrefixComment(processOutput(evt.data), options.comment);
              return `<code id="${className}-editor-${elements.id}-result-${index + 1}" class="${className}">${outputResult}</code>`;
          })
          .join("\n");


          // Clean the state
          // We're now able to process both graphics and pager events.
          // As a result, we cannot maintain a true 1-to-1 output order 
          // without individually feeding each line
          const msgs = await mainWebR.flush();

          // Output each image event stored
          msgs.forEach((msg) => {
          // Determine if old canvas can be used or a new canvas is required.
          if (msg.type === 'canvas'){
              // Add image to the current canvas
              if (msg.data.event === 'canvasImage') {
                  canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
              } else if (msg.data.event === 'canvasNewPage') {

                  // Generate a new canvas element
                  canvas = document.createElement("canvas");
                  canvas.setAttribute("width", 2 * fig_width);
                  canvas.setAttribute("height", 2 * fig_height);
                  canvas.style.width = options["out-width"] ? options["out-width"] : `${fig_width}px`;
                  if (options["out-height"]) {
                      canvas.style.height = options["out-height"];
                  }
                  canvas.style.display = "block";
                  canvas.style.margin = "auto";
              }
          } 
          });

          // Use `map` to process the filtered "pager" events asynchronously
          const pager = await Promise.all(
              msgs.filter(msg => msg.type === 'pager').map(
                  async (msg) => {
                      return await qwebrParseTypePager(msg);
                  }
              )
          );

          // Nullify the output area of content
          elements.outputCodeDiv.innerHTML = "";
          elements.outputGraphDiv.innerHTML = "";

          // Design an output object for messages
          const pre = document.createElement("pre");
          if (/\S/.test(out)) {
              // Display results as HTML elements to retain output styling
              const div = document.createElement("div");
              div.innerHTML = out;
              pre.appendChild(div);
          } else {
              // If nothing is present, hide the element.
              pre.style.visibility = "hidden";
          }

          elements.outputCodeDiv.appendChild(pre);

          // Place the graphics on the canvas
          if (canvas) {
              // Create figure element
              const figureElement = document.createElement('figure');

              // Append canvas to figure
              figureElement.appendChild(canvas);

              if (options['fig-cap']) {
                  // Create figcaption element
                  const figcaptionElement = document.createElement('figcaption');
                  figcaptionElement.innerText = options['fig-cap'];
                  // Append figcaption to figure
                  figureElement.appendChild(figcaptionElement);    
              }

              elements.outputGraphDiv.appendChild(figureElement);
          }

          // Display the pager data
          if (pager) {
          // Use the `pre` element to preserve whitespace.
          pager.forEach((paged_data, index) => {
              let pre_pager = document.createElement("pre");
              pre_pager.innerText = paged_data;
              pre_pager.classList.add("qwebr-output-code-pager");
              pre_pager.setAttribute("id", `qwebr-output-code-pager-editor-${elements.id}-result-${index + 1}`);
              elements.outputCodeDiv.appendChild(pre_pager);
          });
          }
      } finally {
          // Clean up the remaining code
          mainWebRCodeShelter.purge();
      }
  }

  // Function to execute the code (accepts code as an argument)
  globalThis.qwebrExecuteCode = async function (
      codeToRun,
      id,
      options = {}) {

      // If options are not passed, we fall back on the bare minimum to handle the computation
      if (qwebrIsObjectEmpty(options)) {
          options = { 
              "context": "interactive", 
              "fig-width": 7, "fig-height": 5, 
              "out-width": "700px", "out-height": "", 
              "dpi": 72,
              "results": "markup", 
              "warning": "true", "message": "true",
          };
      }

      // Next, we access the compute areas values
      const elements = {
          runButton: document.getElementById(`qwebr-button-run-${id}`),
          outputCodeDiv: document.getElementById(`qwebr-output-code-area-${id}`),
          outputGraphDiv: document.getElementById(`qwebr-output-graph-area-${id}`),
          id: id,
      }

      // Disallowing execution of other code cells
      document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
          btn.disabled = true;
      });

      if (options.context == EvalTypes.Interactive) {
          // Emphasize the active code cell
          elements.runButton.innerHTML = '<i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i> <span>Run Code</span>';
      }

      // Evaluate the code and parse the output into the document
      await qwebrComputeEngine(codeToRun, elements, options);

      // Switch to allowing execution of code
      document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
          btn.disabled = false;
      });

      if (options.context == EvalTypes.Interactive) {
          // Revert to the initial code cell state
          elements.runButton.innerHTML = '<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>';
      }
  }

  </script>
</head>
<body class="quarto-light">
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
<script type="module" id="qwebr-monaco-editor-init">

  // Configure the Monaco Editor's loader
  require.config({
    paths: {
      'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs'
    }
  });
</script>
<script type="module">
// Global dictionary to store Monaco Editor instances
globalThis.qwebrEditorInstances = {};

// Function that builds and registers a Monaco Editor instance    
globalThis.qwebrCreateMonacoEditorInstance = function (cellData) {

  const initialCode = cellData.code;
  const qwebrCounter = cellData.id;
  const qwebrOptions = cellData.options;

  // Retrieve the previously created document elements
  let runButton = document.getElementById(`qwebr-button-run-${qwebrCounter}`);
  let resetButton = document.getElementById(`qwebr-button-reset-${qwebrCounter}`);
  let copyButton = document.getElementById(`qwebr-button-copy-${qwebrCounter}`);
  let editorDiv = document.getElementById(`qwebr-editor-${qwebrCounter}`);
  
  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: initialCode,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // Works wonderfully with RevealJS
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5pt',              // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true,  // Remove cursor indictor in right hand side scroll bar
      readOnly: qwebrOptions['read-only'] ?? false
    });

    // Store the official counter ID to be used in keyboard shortcuts
    editor.__qwebrCounter = qwebrCounter;

    // Store the official div container ID
    editor.__qwebrEditorId = `qwebr-editor-${qwebrCounter}`;

    // Store the initial code value and options
    editor.__qwebrinitialCode = initialCode;
    editor.__qwebrOptions = qwebrOptions;

    // Set at the model level the preferred end of line (EOL) character to LF.
    // This prevent `\r\n` from being given to the webR engine if the user is on Windows.
    // See details in: https://github.com/coatless/quarto-webr/issues/94
    // Associated error text: 
    // Error: <text>:1:7 unexpected input

    // Retrieve the underlying model
    const model = editor.getModel();
    // Set EOL for the model
    model.setEOL(monaco.editor.EndOfLineSequence.LF);

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Helper function to check if selected text is empty
    function isEmptyCodeText(selectedCodeText) {
      return (selectedCodeText === null || selectedCodeText === undefined || selectedCodeText === "");
    }

    // Registry of keyboard shortcuts that should be re-added to each editor window
    // when focus changes.
    const addWebRKeyboardShortCutCommands = () => {
      // Add a keydown event listener for Shift+Enter to run all code in cell
      editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, () => {

        // Retrieve all text inside the editor
        qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
      });

      // Add a keydown event listener for CMD/Ctrl+Enter to run selected code
      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {

        // Get the selected text from the editor
        const selectedText = editor.getModel().getValueInRange(editor.getSelection());
        // Check if no code is selected
        if (isEmptyCodeText(selectedText)) {
          // Obtain the current cursor position
          let currentPosition = editor.getPosition();
          // Retrieve the current line content
          let currentLine = editor.getModel().getLineContent(currentPosition.lineNumber);

          // Propose a new position to move the cursor to
          let newPosition = new monaco.Position(currentPosition.lineNumber + 1, 1);

          // Check if the new position is beyond the last line of the editor
          if (newPosition.lineNumber > editor.getModel().getLineCount()) {
            // Add a new line at the end of the editor
            editor.executeEdits("addNewLine", [{
            range: new monaco.Range(newPosition.lineNumber, 1, newPosition.lineNumber, 1),
            text: "\n", 
            forceMoveMarkers: true,
            }]);
          }
          
          // Run the entire line of code.
          qwebrExecuteCode(currentLine, editor.__qwebrCounter, editor.__qwebrOptions);

          // Move cursor to new position
          editor.setPosition(newPosition);
        } else {
          // Code to run when Ctrl+Enter is pressed with selected code
          qwebrExecuteCode(selectedText, editor.__qwebrCounter, editor.__qwebrOptions);
        }
      });
    }

    // Register an on focus event handler for when a code cell is selected to update
    // what keyboard shortcut commands should work.
    // This is a workaround to fix a regression that happened with multiple
    // editor windows since Monaco 0.32.0 
    // https://github.com/microsoft/monaco-editor/issues/2947
    editor.onDidFocusEditorText(addWebRKeyboardShortCutCommands);

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();

    // Store the editor instance in the global dictionary
    qwebrEditorInstances[editor.__qwebrCounter] = editor;

  });

  // Add a click event listener to the run button
  runButton.onclick = function () {
    qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
  };

  // Add a click event listener to the reset button
  copyButton.onclick = function () {
    // Retrieve current code data
    const data = editor.getValue();
    
    // Write code data onto the clipboard.
    navigator.clipboard.writeText(data || "");
  };
  
  // Add a click event listener to the copy button
  resetButton.onclick = function () {
    editor.setValue(editor.__qwebrinitialCode);
  };
  
}
</script>
  <div class="reveal">
    <div class="slides">


<section id="an-exploration-of-information-loss-in-transformer-embedding-spaces-for-enhancing-predictive-ai-in-genomics" class="title-slide slide level1 center" data-background-image="images/DALL_E_DNA_Image_edited.png" data-background-size="cover" data-background-color="#4f6952">
<h1><span style="color:#FFFFFF;           font-size: 55px;           position: relative;          bottom: 60px;           text-shadow: -1px -1px 0 #000,                        1px -1px 0 #000,                        -1px 1px 0 #000,                        1px 1px 0 #000;">An Exploration of Information Loss in Transformer Embedding Spaces for Enhancing Predictive AI in Genomics</span></h1>
<h2 style="color:#FFFFFF; 
         font-size: 28px; 
         text-align: center;
         position: absolute; 
         top: 325px; 
         width: 100%; 
         text-shadow: -0.5px -0.5px 0 #000, 
                      0.5px -0.5px 0 #000, 
                      -0.5px 0.5px 0 #000, 
                      0.5px 0.5px 0 #000;">
Daniel Hintz <br> 2024-06-06
</h2>
</section>

<section id="outline-1" class="title-slide slide level1 center">
<h1><span style="font-size: 55px;">Outline (1)</span></h1>
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">Background
<ul>
<li class="fragment">SARS-COV-2</li>
<li class="fragment">DNA</li>
<li class="fragment">Coding regions and Proteins</li>
<li class="fragment">Sequence Representations</li>
<li class="fragment">GenSLM</li>
</ul></li>
<li class="fragment">Data and Processing
<ul>
<li class="fragment">Data Description</li>
<li class="fragment">Data Cleaning &amp; Pre-Processing</li>
<li class="fragment">Exploratory Data Analysis</li>
<li class="fragment">Generating Embeddings</li>
</ul></li>
<li class="fragment">Methodology</li>
</ul>
</div>
</div>
</section>

<section>
<section id="background" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Background</span></h1>

</section>
<section id="sars-cov-2" class="slide level2">
<h2>SARS-COV-2</h2>
<div id="qwebr-insertion-location-1"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="dna" class="slide level2">
<h2>DNA</h2>
<div class="columns">
<div class="column" style="width:80%;">
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">Deoxyribonucleic acid (DNA) is a molecule that contains the genetic code that provides the instructions for building and maintaining life.</li>
<li class="fragment">The structure of DNA can be thought of as rungs on a ladder (known as base pairs) involving the pairing of four nucleotides - Adenine (A), Cytosine (C),Guanine (G) and Thymine (T).</li>
<li class="fragment">Genomic sequencing is a process used to decipher the genetic material found in an organism</li>
<li class="fragment">For reference, the SARS-CoV2 virus is approximately 30,0000 base pairs (bps), whereas the human genome is approximately 3 billion bp.</li>
</ul>
</div>
</div>
</div><div class="column" style="width:20%;">
<div style="text-align:center; font-size: 0.5em;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/DNA_diagram.png"></p>
<figcaption>Figure 1: DNA Base Pairs; <span class="citation" data-cites="NHGRI2024">[<a href="#/references" role="doc-biblioref" onclick="">1</a>]</span></figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dna-sequencing-technology" class="slide level2">
<h2>DNA Sequencing Technology</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">The two main technologies for DNA Sequencing is Ilumina and Nanopore</li>
<li class="fragment">Big Picture, the workflow for sequencing is the same for each technology:
<ul>
<li class="fragment">Someone gets tested for Covid, PCA is ran to detect if the assay is indeed positive</li>
<li class="fragment">Positive tests are ran though Library prep workflow before going onto a sequencing protocol within a lab</li>
<li class="fragment">This takes in the Covid Assay and arrives at a digital copy of DNA sequences</li>
</ul></li>
</ul>
</div>
</div>
</div><div class="column" style="width:40%;">
<div style="text-align:center; font-size: 0.5em;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/sequencing_technology_edit.png"></p>
<figcaption>Figure 2: Overview of Lab processing for SARS-CoV-2; Adapted from <span class="citation" data-cites="carbo2023comparison">[<a href="#/references" role="doc-biblioref" onclick="">2</a>]</span>, pg. 702</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dna-library-prep-workflow" class="slide level2">
<h2>DNA Library Prep Workflow</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">Library prep contains many steps, with lab technicians performing tasks to prepare the assay</li>
<li class="fragment">Library prep comes with the possibility of human error, in addition to the natural machine error in sequencing.</li>
<li class="fragment">Often between steps in the Library prep, the assay can diminish in quality without there being a clear reason as to why this happened.</li>
<li class="fragment">Post-sequencing, median genome coverage rates for SARS-CoV-2 can range from 81.6 to 99.8% <span class="citation" data-cites="carbo2023comparison">[<a href="#/references" role="doc-biblioref" onclick="">2</a>]</span>.</li>
<li class="fragment">A genome coverage of 99.8% means that the sequencing process has successfully captured and sequenced 99.8% of the entire genome of the virus.</li>
</ul>
</div>
</div>
</div><div class="column" style="width:40%;">
<div style="text-align:center; font-size: 0.5em;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/library-prep.png"></p>
<figcaption>Figure 3: Nextera DNA Library Prep Workflow; <span class="citation" data-cites="Illumina2016Nextera">[<a href="#/references" role="doc-biblioref" onclick="">3</a>]</span></figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="coding-regions-and-proteins" class="slide level2">
<h2>Coding regions and Proteins</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">The coding region specifically encodes proteins that are essential for all the functions necessary for life.</li>
<li class="fragment">the whole SARS-CoV2 genome, marking structural and nonstructural proteins within the coding region along with the first 43 nucleotides for the nsp1 protein</li>
</ul>
</div>
</div>
</div><div class="column" style="width:60%;">
<div style="text-align:center; font-size: 0.5em;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/nsp1_str_non_str.png"></p>
<figcaption>Figure 3: SARS-CoV-2 Proteins; Adapted from <span class="citation" data-cites="kandwal2023genetic">[<a href="#/references" role="doc-biblioref" onclick="">4</a>]</span>, pg. 99</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="word-embeddings-1" class="slide level2">
<h2>Word Embeddings (1)</h2>
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">Before we introduce GenSLM and embeddings for Sequences, what is an embedding and why would ever embed something?</li>
<li class="fragment">If we consider English text, how might we ever measure the similarity of words in terms of their meaning, said differently, <strong>How can we measure semantic similarity between words</strong></li>
<li class="fragment">For example, what is the semantic difference between the words King and Woman</li>
<li class="fragment">This initially sounds outlandish, but if there were a way to represent words as numeric vectors, then we would be able to use the same linear algebra we would use to compare vectors of force, speed or velocity.</li>
</ul>
</div>
</div>
</section>
<section id="word-embeddings-2" class="slide level2">
<h2>Word Embeddings (2)</h2>
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">Here is where neural network embedding algorithms enters</li>
<li class="fragment">For example, given a corpus (a massive training set of structured text) how are the words King, Quen, Man, Woman related within the given corpus</li>
<li class="fragment">It turns out given a sufficiently large corpus of text you can train an embedding algorithm (such as word2vec for NLP) to generate vectors for words included within the corpus</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">library</span>(word2vec)</span>
<span id="cb1-2"><a href=""></a><span class="co"># using british national corpus http://vectors.nlpl.eu/repository/</span></span>
<span id="cb1-3"><a href=""></a>model <span class="ot">&lt;-</span> <span class="fu">read.word2vec</span>(<span class="st">"/path_to_folder/British_National_Corpus_Vector_size_300_skipgram/model.bin"</span>, <span class="at">normalize =</span> <span class="cn">TRUE</span>)  <span class="fu">head</span>(<span class="fu">summary</span>(model, <span class="at">type =</span> <span class="st">"vocabulary"</span>), <span class="at">n =</span> <span class="dv">100</span>)</span>
<span id="cb1-4"><a href=""></a>Word_embeddings <span class="ot">&lt;-</span> <span class="fu">predict</span>(model,<span class="at">newdata =</span> <span class="fu">c</span>(<span class="st">"king_NOUN"</span>,<span class="st">"man_NOUN"</span>,<span class="st">"woman_NOUN"</span>,<span class="st">"queen_NOUN"</span>),<span class="at">type=</span><span class="st">"embedding"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="qwebr-insertion-location-2"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="word-embeddings-3" class="slide level2">
<h2>Word Embeddings (3)</h2>
<div style="text-align:center; font-size: 0.5em;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/King_Man_Woman_Queen.png"></p>
<figcaption>Figure 4</figcaption>
</figure>
</div>
</div>
</section>
<section id="sequence-representations" class="slide level2">
<h2>Sequence Representations</h2>
<div style="text-align:center; font-size: 0.5em;">
<p><img data-src="images/ml_rep_obj.png"></p>
</div>
<div>
<div style="font-size: 0.6em;">
<ul>
<li class="fragment">An effective representation (embedding) of a genomic sequence is crucial for all downstream tasks
<ul>
<li class="fragment">i.e., clustering, classification, regression, protein function identification, structural analysis, and predicting genetic disorders <span class="citation" data-cites="angermueller2016deep">[<a href="#/references" role="doc-biblioref" onclick="">5</a>]</span></li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="genslm" class="slide level2">
<h2>GenSLM</h2>
</section></section>
<section>
<section id="data-and-processing" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Data and Processing</span></h1>

</section>
<section id="data-description" class="slide level2">
<h2>Data Description</h2>
</section>
<section id="data-cleaning-pre-processing" class="slide level2">
<h2>Data Cleaning &amp; Pre-Processing</h2>
</section>
<section id="exploratory-data-analysis" class="slide level2">
<h2>Exploratory Data Analysis</h2>
</section>
<section id="generating-embeddings" class="slide level2">
<h2>Generating Embeddings</h2>
</section></section>
<section>
<section id="methodology" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Methodology</span></h1>

</section>
<section id="what-is-the-difference-between-vectorization-and-iteration" class="slide level2">
<h2>What is the Difference Between Vectorization and Iteration?</h2>
<div>
<ul>
<li class="fragment">If y = 4x + 3, what is y for x = 4?</li>
<li class="fragment">If <span class="math inline">\(N_{(t + 1)} = N_{t}e^{r\left(1 ~-~ \frac{N_{t}}{K}\right)}\)</span>, what is <span class="math inline">\(N\)</span> for <span class="math inline">\(t = 4\)</span> <span class="math inline">\(~~\)</span>(<span class="math inline">\(N_{1} = 2\)</span>, <span class="math inline">\(r = 0.5\)</span>, and <span class="math inline">\(K = 30\)</span>)?</li>
</ul>
</div>
</section>
<section id="now-for-the-math-in-r" class="slide level2">
<h2>Now for the Math in R</h2>
<div id="qwebr-insertion-location-3"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="now-onto-a-more-complex-for-loop" class="slide level2 scrollable">
<h2>Now Onto a More Complex <code>for</code> Loop</h2>
<div id="qwebr-insertion-location-4"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<!--
-   There are also while and repeat loops, but you shouldn't be writing code in R if you are using them.
-->
<ul>
<li>For people that write their own algorithms, <code>while</code> loops are a good skill to know<sup>1</sup></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Their usage, however, can be more niche as they are used when the number of iterations is not known a priori and reach completion via convergence criterion such as the max number of iterations or some metric like Euclidean Distance</p></li></ol></aside></section>
<section id="now-for-apply-functions" class="slide level2">
<h2>Now for <code>apply</code> Functions</h2>
<div id="qwebr-insertion-location-5"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="apply-functions-contd" class="slide level2">
<h2><code>apply</code> Functions (contd)</h2>
<div id="qwebr-insertion-location-6"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div class="fragment">
<ul>
<li>You might want to look at the <code>pbapply</code> package if you regularly parallelize your code.</li>
</ul>
</div>
</section>
<section id="logical-statements-1" class="slide level2">
<h2>Logical Statements (1)</h2>
<div id="qwebr-insertion-location-7"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="logical-statements-2" class="slide level2">
<h2>Logical Statements (2)</h2>
<div id="qwebr-insertion-location-8"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section></section>
<section>
<section id="lets-try-some-exercises" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"></path></svg> <span style="color:white;">Lets Try Some Exercises</span></h1>

</section>
<section id="q1" class="slide level2">
<h2>Q1</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Question</a></li><li><a href="#tabset-1-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>Read in the 20 Weather Station data files with a <code>for</code> loop and combine into one dataframe.</p>
<div id="qwebr-insertion-location-9"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-1-2">
<div id="qwebr-insertion-location-10"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q2" class="slide level2">
<h2>Q2</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Question</a></li><li><a href="#tabset-2-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>Now modify your <code>for</code> loop to omit any files that contain an <code>NA</code>.</p>
<div id="qwebr-insertion-location-11"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-2-2">
<div id="qwebr-insertion-location-12"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q3" class="slide level2">
<h2>Q3</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Question</a></li><li><a href="#tabset-3-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>Use an <code>apply</code> function to perform a Shapiro-Wilk test on each column of the data set created below (dat) to determine if the data in each column is normally distributed.</p>
<div id="qwebr-insertion-location-13"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-3-2">
<div id="qwebr-insertion-location-14"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q4" class="slide level2">
<h2>Q4</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Question</a></li><li><a href="#tabset-4-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>Make a column in the data created below (a subset of the weather station data) for week. When <code>X</code> (this is the row ID or day of the month) is 1-7, <code>Week</code> should be 1; when <code>X</code> (day) is 8-14, <code>Week</code> should be 2; when <code>X</code> (day) is 15-21, <code>Week</code> should be 3; when <code>X</code> (day) is 22-28, <code>Week</code> should be 4; and for <code>X</code> (day) from 28-30, <code>Week</code> should be assigned a value of <code>NA</code>.</p>
<div id="qwebr-insertion-location-15"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-4-2">
<div id="qwebr-insertion-location-16"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section></section>
<section>
<section id="r-function-basics" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">R Function Basics</span></h1>

</section>
<section id="function-structure" class="slide level2 scrollable">
<h2>Function Structure</h2>
<blockquote>
<p>Functions are like a grammatically correct sentences; they require arguments, a body, and an environment<sup>1</sup>.</p>
</blockquote>
<div class="fragment">
<p><img data-src="images/function-structure.png" height="300"></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>See Hadleys section on <a href="https://adv-r.hadley.nz/functions.html#function-fundamentals">function-fundamentals</a> for more details</p></li></ol></aside></section>
<section id="lets-write-some-functions" class="slide level2">
<h2>Lets Write Some Functions</h2>
<div id="qwebr-insertion-location-17"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div class="fragment">
<div style="margin-top: 10px;">

</div>
<div id="qwebr-insertion-location-18"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div class="fragment">
<div style="margin-top: 10px;">

</div>
<div id="qwebr-insertion-location-19"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div class="fragment">
<div style="margin-top: 10px;">

</div>
<div id="qwebr-insertion-location-20"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</section>
<section id="functions-need-an-object-call-i.e.-x-or-a-returnx-in-order-to-return-output-from-x-to-the-global-environment" class="slide level2" data-background-color="#447099">
<h2><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg> <span style="color:white;">Functions need an object call (i.e.&nbsp;<code>x</code> or a <code>return(x)</code>) in order to return output from <code>x</code> to the global environment</span></h2>
</section></section>
<section>
<section id="r-functions-extended" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">R Functions Extended</span></h1>

</section>
<section id="function-formals-body-and-environment" class="slide level2">
<h2>Function <code>formals()</code>, <code>body()</code> and <code>environment()</code></h2>
<div id="qwebr-insertion-location-21"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>

<aside><div>
<p>See <a href="https://adv-r.hadley.nz/functions.html#fun-components">Function-Components</a></p>
</div></aside></section>
<section id="more-on-environments" class="slide level2">
<h2>More on Environments</h2>
<div id="qwebr-insertion-location-22"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div class="fragment">
<ul>
<li>Environments are important to understand as they relate to <strong>Lexical scoping</strong></li>
</ul>
</div>
</section>
<section id="lexical-scoping" class="slide level2">
<h2>Lexical Scoping</h2>
<div class="columns">
<div class="column" style="padding-right: 0px;">
<p><img data-src="images/castle.jpeg" height="425"></p>
</div><div class="column" style="padding-right: 0px;">
<div id="qwebr-insertion-location-23"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Imagine a castle where of the three levels (Keep, Main, Lower), some levels can see more levels than others. For example from the Keep, you can see inside the keep, into the Main level as well as the lower level. In <code>R</code>, their are also varying degrees of <em>sight</em>. For example, inside a function, objects that were defined inside the function are visible as well as objects that were defined outside the function, say like the global environment.</p></li>
<li><p>If you were in the castle and you wanted to search for an object, one possible procedure is to first search the lower level (say a f3), then if you still havent found it, proceed to search the main level (f4) and finally, if still havent found it, you would search the keep and if were still not found you would declare the object is not in the castle. This is analogous to how lexical scoping works in R.</p></li>
<li><p>In R, the <code>&lt;&lt;-</code> operator does not simply assign a value to a variable in the parent environment; it assigns a value to a variable in the parent environment if the variable already exists there. If the variable does not exist in the parent environment, R searches up through the chain of environments until it finds an environment where the variable exists and assigns the value there. If it does not find the variable in any parent environments, it will assign the value in the global environment.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

<aside><div>
<p>For more information see <a href="https://adv-r.hadley.nz/functions.html#lexical-scoping">here</a>.</p>
</div></aside></section>
<section id="default-argument-assignment" class="slide level2">
<h2>Default Argument Assignment</h2>
<div id="qwebr-insertion-location-24"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="null-conditional-execution-1" class="slide level2">
<h2><code>NULL</code> Conditional Execution (1)</h2>
<div id="qwebr-insertion-location-25"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="message-warning-and-stop" class="slide level2">
<h2><code>message()</code>, <code>warning()</code>, and <code>stop()</code></h2>
<div id="qwebr-insertion-location-26"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="null-conditional-execution-2" class="slide level2">
<h2><code>NULL</code> Conditional Execution (2)</h2>
<div id="qwebr-insertion-location-27"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="conditional-execution-with-missing" class="slide level2">
<h2>Conditional Execution with <code>missing()</code></h2>
<div id="qwebr-insertion-location-28"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="dot-dot-dot-1" class="slide level2">
<h2><code>...</code> dot-dot-dot (1)</h2>
<div id="qwebr-insertion-location-29"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div class="fragment">
<div style="margin-top: 10px;">

</div>
<div id="qwebr-insertion-location-30"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div class="fragment">
<ul>
<li>The `<code>...</code>` argument is also known as an Ellipsis or simply dot-dot-dot.</li>
</ul>
</div>
</section>
<section id="dot-dot-dot-2" class="slide level2">
<h2><code>...</code> dot-dot-dot (2)</h2>
<div id="qwebr-insertion-location-31"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<p>`<code>...</code>` has pros and cons, for more info see <a href="https://adv-r.hadley.nz/functions.html#fun-dot-dot-dot">here</a></p>
<aside class="notes">
<ul>
<li><p>Functions that were defined without <code>...</code>, will fail to execute when arguments are given to the Ellipsis, and restricts future users of having full access to arguments nested function arguments with the larger function</p></li>
<li><p>Because of this, some package developers in R, are advocates for <strong>all</strong> functions being defined with <code>...</code>!</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dot-dot-dot-3" class="slide level2">
<h2><code>...</code> dot-dot-dot (3)</h2>
<p>So why does <code>f5</code> work?</p>
<div id="qwebr-insertion-location-32"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div id="qwebr-insertion-location-33"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="anonymous-functions" class="slide level2">
<h2>Anonymous Functions</h2>
<div style="font-size: 0.7em;">
<blockquote>
<p>An Anonymous Function (also known as a lambda expression) is a function definition that is not bound to an identifier. That is, it is a function that is created and used, but never assigned to a variable (see <a href="https://coolbutuseless.github.io/2019/03/13/anonymous-functions-in-r-part-1/">link</a>)</p>
</blockquote>
</div>
<div class="fragment">
<div style="margin-top: 40px;">

</div>
<div style="font-size: 0.65em;">
<p><code>base</code> R anonymous function syntax:</p>
</div>
<div id="qwebr-insertion-location-34"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div class="fragment">
<div style="margin-top: 40px;">

</div>
<div style="font-size: 0.65em;">
<p><code>purrr</code>s anonymous function syntax:</p>
</div>
<div id="qwebr-insertion-location-35"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</section></section>
<section>
<section id="functional-programming-with-base-r" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Functional Programming with <code>base</code> R</span></h1>

</section>
<section id="functional-programming-with-base-r-1" class="slide level2">
<h2>Functional Programming with <code>base</code> R</h2>
<div style="font-size: 0.45em;">
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>apply(X, MARGIN, FUN, ...)</code></td>
<td>Applies a function over the margins (rows or columns) of an array or matrix.</td>
</tr>
<tr class="even">
<td><code>sapply(X, FUN, ...)</code></td>
<td>Simplifies the result of <code>lapply()</code> by attempting to reduce the result to a vector, matrix, or higher-dimensional array.</td>
</tr>
<tr class="odd">
<td><code>vapply(X, FUN, FUN.VALUE)</code></td>
<td>Similar to <code>sapply()</code>, but with a specified type of return value, making it safer and faster by avoiding unexpected type coercion.</td>
</tr>
<tr class="even">
<td><code>lapply(X, FUN, ...)</code></td>
<td>Applies a function to each element of a list or vector and returns a list.</td>
</tr>
<tr class="odd">
<td><code>tapply(X, INDEX, FUN = NULL)</code></td>
<td>Applies a function over subsets of a vector, array, or data frame, split by the levels of a factor or list of factors</td>
</tr>
<tr class="even">
<td><code>do.call(what, args, ...)</code></td>
<td>constructs and executes a function call from a name or a function and a list of arguments to be passed to it</td>
</tr>
<tr class="odd">
<td><code>mapply(FUN, ...)</code></td>
<td>A multivariate version of <code>sapply()</code>, applies a function to the 1st elements of each argument, then the 2nd elements of each argument, and so on.</td>
</tr>
<tr class="even">
<td><code>Map(f, ...)</code></td>
<td>Similar to <code>mapply()</code> but always returns a list, regardless of the output type.</td>
</tr>
<tr class="odd">
<td><code>Reduce(f, x, init, ...)</code></td>
<td>Applies a function successively to elements of a vector from left to right so as to reduce the vector to a single value.</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="base-r-examples-1" class="slide level2">
<h2><code>base</code> R Examples (1)</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><code>apply</code></a></li><li><a href="#tabset-5-2"><code>sapply</code></a></li><li><a href="#tabset-5-3"><code>lapply</code></a></li><li><a href="#tabset-5-4"><code>vapply</code></a></li><li><a href="#tabset-5-5"><code>tapply</code></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div id="qwebr-insertion-location-36"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div style="margin-top: 10px;">

</div>
<div id="qwebr-insertion-location-37"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-5-2">
<div id="qwebr-insertion-location-38"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-5-3">
<div id="qwebr-insertion-location-39"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-5-4">
<div id="qwebr-insertion-location-40"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-5-5">
<div id="qwebr-insertion-location-41"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="base-r-examples-2" class="slide level2">
<h2><code>base</code> R Examples (2)</h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><code>do.call</code></a></li><li><a href="#tabset-6-2"><code>mapply</code></a></li><li><a href="#tabset-6-3"><code>Map</code></a></li><li><a href="#tabset-6-4"><code>Reduce</code></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div id="qwebr-insertion-location-42"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-6-2">
<div id="qwebr-insertion-location-43"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-6-3">
<div id="qwebr-insertion-location-44"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-6-4">
<div id="qwebr-insertion-location-45"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<div style="font-size: 0.65em;">
<ul>
<li>[1] 3 2 indicates that among the three random samples generated, the numbers 3 and 2 are the only ones that appear at least once in all three vectors.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="functional-programming-with-purrr" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Functional Programming with <code>purrr</code></span></h1>

</section>
<section id="functional-programming-with-purrr-1" class="slide level2">
<h2>Functional Programming with <code>purrr</code></h2>
<div style="font-size: 0.65em;">
<table>
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>map(.x, .f, ...)</code></td>
<td>Applies a function to each element of a list or vector and returns a list. Useful for operations on list elements.</td>
</tr>
<tr class="even">
<td><code>map2(.x, .y, .f, ...)</code></td>
<td>Applies a function to the corresponding elements of two vectors/lists, useful for element-wise operations on two inputs.</td>
</tr>
<tr class="odd">
<td><code>pmap(.l, .f, ...)</code></td>
<td>Applies a function to each element of a list or vector in parallel, taking multiple arguments from parallel lists or vectors.</td>
</tr>
<tr class="even">
<td><code>reduce(.x, .f, ..., .init, .)</code></td>
<td>Reduces a list or vector to a single value by iteratively applying a function that takes two arguments.</td>
</tr>
<tr class="odd">
<td><code>_dbl,</code> <code>_int</code> <code>_chr</code>, <code>_lgl and</code> <code>_vec</code></td>
<td><code>map, map2</code> and <code>pmap</code> variants to change output type, e.g., <code>map_dbl</code>, <code>map_int</code>, <code>map_chr</code>, <code>map_lgl</code>, <code>map_vec</code>, <code>map2_dbl ...</code></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="purrr-examples" class="slide level2">
<h2><code>purrr</code> Examples</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1"><code>map</code></a></li><li><a href="#tabset-7-2"><code>map2</code></a></li><li><a href="#tabset-7-3"><code>pmap</code></a></li><li><a href="#tabset-7-4"><code>reduce</code></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div id="qwebr-insertion-location-46"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-7-2">
<div id="qwebr-insertion-location-47"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-7-3">
<div id="qwebr-insertion-location-48"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<aside class="notes">
<ul>
<li><p>For the first combination <code>(x = 1, y = 1, z = 1)</code>, three numbers are generated based on the hypergeometric distribution parameters, resulting in [1] 0 1 1.</p></li>
<li><p>For the second combination <code>(x = 2, y = 2, z = 2)</code>, it generates another set of three numbers, resulting in [1] 1 0 1.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-7-4">
<div id="qwebr-insertion-location-49"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section></section>
<section>
<section id="parallel-computing" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white;">Parallel Computing</span></h1>

</section>
<section id="parallel-computing-with-furrr" class="slide level2">
<h2>Parallel Computing with <code>furrr</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>fib_n <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb2-2"><a href=""></a>    <span class="cf">if</span> ((n <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|</span> (n <span class="sc">==</span> <span class="dv">1</span>)) </span>
<span id="cb2-3"><a href=""></a>        <span class="fu">return</span>(<span class="dv">1</span>)</span>
<span id="cb2-4"><a href=""></a>    <span class="cf">else</span></span>
<span id="cb2-5"><a href=""></a>        <span class="fu">return</span>(<span class="fu">fib_n</span>(n<span class="dv">-1</span>) <span class="sc">+</span> <span class="fu">fib_n</span>(n<span class="dv">-2</span>))</span>
<span id="cb2-6"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div style="margin-top: 20px;">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="1-2|4|5-7|1-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">library</span>(furrr) <span class="co"># library(furrr) loads future by default</span></span>
<span id="cb3-2"><a href=""></a><span class="fu">library</span>(tictoc)</span>
<span id="cb3-3"><a href=""></a></span>
<span id="cb3-4"><a href=""></a>future<span class="sc">::</span><span class="fu">plan</span>(multisession, <span class="at">workers =</span> <span class="dv">1</span>) <span class="co"># setting num of cores/workers</span></span>
<span id="cb3-5"><a href=""></a><span class="fu">tic</span>()</span>
<span id="cb3-6"><a href=""></a>num <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span> <span class="sc">|&gt;</span> <span class="fu">future_map</span>(fib_n)</span>
<span id="cb3-7"><a href=""></a><span class="fu">toc</span>() <span class="co"># 4.151 sec elapsed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div style="margin-top: 20px;">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="1|2-4|1-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a>future<span class="sc">::</span><span class="fu">plan</span>(multisession, <span class="at">workers =</span> <span class="dv">2</span>) <span class="co"># Using 1 additional core</span></span>
<span id="cb4-2"><a href=""></a><span class="fu">tic</span>()</span>
<span id="cb4-3"><a href=""></a>num <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span> <span class="sc">|&gt;</span> <span class="fu">future_map</span>(fib_n)</span>
<span id="cb4-4"><a href=""></a><span class="fu">toc</span>() <span class="co"># 2.174 sec elapsed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="a-note-on-parallel-computing" class="slide level2">
<h2>A Note on Parallel Computing</h2>
<blockquote>
<p>Parallel Computing is not a magic bullet. Performance depends on Overhead of Parallelization, Task Granularity, and whether or not the task is sequential</p>
</blockquote>
<div class="fragment">
<div>
<ul>
<li class="fragment">Sequential Tasks, generally speaking, are not capable of being parallized, though they can be <em>functionally parallized</em>; meaning given a function, <code>seq_func</code>, the internals of <code>seq_func</code> <strong>cannot</strong> not be parallized, but the call to <code>seq_func</code> <strong>can</strong> be parallized.</li>
<li class="fragment">We will illustrate this concept with Random Walks</li>
</ul>
</div>
</div>
</section>
<section id="random-walks" class="slide level2">
<h2>Random Walks</h2>
<div class="cell">
<details class="code-fold">
<summary>expand for <code>random_walk()</code> source code</summary>
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="4|5-16|6|7|8-14|8|9-10|11-13|5-16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">library</span>(furrr)</span>
<span id="cb5-2"><a href=""></a><span class="fu">library</span>(tictoc)</span>
<span id="cb5-3"><a href=""></a></span>
<span id="cb5-4"><a href=""></a>nworkers <span class="ot">=</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span> <span class="co"># select nworkers to amount of cores - 1 </span></span>
<span id="cb5-5"><a href=""></a>random_walk <span class="ot">&lt;-</span> <span class="cf">function</span>(steps) {</span>
<span id="cb5-6"><a href=""></a>  position <span class="ot">&lt;-</span> <span class="fu">numeric</span>(steps) <span class="co"># Initialize the position vector</span></span>
<span id="cb5-7"><a href=""></a>  position[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># Start at the origin</span></span>
<span id="cb5-8"><a href=""></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>steps) {                   <span class="co"># Simulate each step of the walk</span></span>
<span id="cb5-9"><a href=""></a>    <span class="cf">if</span> (<span class="fu">runif</span>(<span class="dv">1</span>) <span class="sc">&lt;</span> <span class="fl">0.5</span>) {</span>
<span id="cb5-10"><a href=""></a>      position[i] <span class="ot">&lt;-</span> position[i <span class="sc">-</span> <span class="dv">1</span>] <span class="sc">+</span> <span class="dv">1</span> <span class="co"># Move forward</span></span>
<span id="cb5-11"><a href=""></a>    } <span class="cf">else</span> {</span>
<span id="cb5-12"><a href=""></a>      position[i] <span class="ot">&lt;-</span> position[i <span class="sc">-</span> <span class="dv">1</span>] <span class="sc">-</span> <span class="dv">1</span> <span class="co"># Move backward</span></span>
<span id="cb5-13"><a href=""></a>    }</span>
<span id="cb5-14"><a href=""></a>  }</span>
<span id="cb5-15"><a href=""></a>  <span class="fu">return</span>(position)</span>
<span id="cb5-16"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="1|3-6|7-11|13-18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>steps <span class="ot">=</span> <span class="dv">10000</span>; n_random_walks <span class="ot">=</span> <span class="dv">300</span> <span class="co"># Define the number of steps and walks</span></span>
<span id="cb6-2"><a href=""></a></span>
<span id="cb6-3"><a href=""></a>future<span class="sc">::</span><span class="fu">plan</span>(multisession, <span class="at">workers =</span> <span class="dv">1</span>) <span class="co"># setting num of cores/workers</span></span>
<span id="cb6-4"><a href=""></a><span class="fu">tic</span>() <span class="co"># Measure time taken to execute the random walk</span></span>
<span id="cb6-5"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">1</span>); walks <span class="ot">=</span> <span class="fu">future_map</span>(<span class="dv">1</span><span class="sc">:</span>n_random_walks , <span class="sc">~</span><span class="fu">random_walk</span>(steps),<span class="at">.options =</span> <span class="fu">furrr_options</span>(<span class="at">seed =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb6-6"><a href=""></a><span class="fu">toc</span>() <span class="co"># 3.088 sec elapsed</span></span>
<span id="cb6-7"><a href=""></a></span>
<span id="cb6-8"><a href=""></a><span class="fu">tic</span>()</span>
<span id="cb6-9"><a href=""></a>future<span class="sc">::</span><span class="fu">plan</span>(multisession, <span class="at">workers =</span> nworkers) <span class="co"># setting num of cores/workers</span></span>
<span id="cb6-10"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">1</span>);walks <span class="ot">=</span> <span class="fu">future_map</span>(<span class="dv">1</span><span class="sc">:</span>n_random_walks , <span class="sc">~</span><span class="fu">random_walk</span>(steps),<span class="at">.options =</span> <span class="fu">furrr_options</span>(<span class="at">seed =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb6-11"><a href=""></a><span class="fu">toc</span>() <span class="co"># 1.713 sec elapsed</span></span>
<span id="cb6-12"><a href=""></a></span>
<span id="cb6-13"><a href=""></a><span class="fu">pdf</span>(<span class="st">"random_walks.pdf"</span>)</span>
<span id="cb6-14"><a href=""></a><span class="fu">invisible</span>(</span>
<span id="cb6-15"><a href=""></a>  <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="cf">function</span>(i) </span>
<span id="cb6-16"><a href=""></a>    <span class="fu">plot</span>(walks[[i]],<span class="at">type =</span> <span class="st">"l"</span>, <span class="at">ylab =</span> <span class="st">"Position"</span>, <span class="at">xlab =</span> <span class="st">"Step"</span>,</span>
<span id="cb6-17"><a href=""></a>         <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">"Random Walk"</span>,i)))</span>
<span id="cb6-18"><a href=""></a>  );<span class="fu">dev.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bootstraps-in-parallel" class="slide level2">
<h2>Bootstraps in Parallel</h2>
<div class="cell">
<details class="code-fold">
<summary>expand for source code for <code>boot()</code> and <code>samp.o()</code></summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>boot <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">B =</span> <span class="dv">5000</span>, m, theta.f, <span class="at">w =</span> <span class="dv">1</span>, rdist, ...) {</span>
<span id="cb7-2"><a href=""></a>  <span class="fu">plan</span>(multisession, <span class="at">workers =</span> w) <span class="co"># Set up for parallel execution</span></span>
<span id="cb7-3"><a href=""></a>  b_indices <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>B <span class="co"># vector of indices for bootstrapping iterations</span></span>
<span id="cb7-4"><a href=""></a>  iterate_func <span class="ot">&lt;-</span> <span class="cf">function</span>(b) { <span class="co"># apply for each bootstrap iteration</span></span>
<span id="cb7-5"><a href=""></a>    <span class="cf">if</span> (m <span class="sc">==</span> <span class="st">"p"</span>) {</span>
<span id="cb7-6"><a href=""></a>      d.b <span class="ot">&lt;-</span> <span class="fu">rdist</span>(...) <span class="co"># parametric bootstrap</span></span>
<span id="cb7-7"><a href=""></a>    } <span class="cf">else</span> <span class="cf">if</span> (m <span class="sc">==</span> <span class="st">"np"</span>) {</span>
<span id="cb7-8"><a href=""></a>      d.b <span class="ot">&lt;-</span> x[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x), <span class="at">replace =</span> <span class="cn">TRUE</span>)] <span class="co"># nonparametric bootstrap</span></span>
<span id="cb7-9"><a href=""></a>    } <span class="cf">else</span> {</span>
<span id="cb7-10"><a href=""></a>      <span class="fu">stop</span>(<span class="st">"possible arguments for m is 'p' (parametric) or 'np' (nonparametric)"</span>)</span>
<span id="cb7-11"><a href=""></a>    }</span>
<span id="cb7-12"><a href=""></a>    <span class="fu">theta.f</span>(d.b)</span>
<span id="cb7-13"><a href=""></a>  }</span>
<span id="cb7-14"><a href=""></a>  <span class="co"># future_map_dbl to apply iterate_func over each index in parallel with proper seeding</span></span>
<span id="cb7-15"><a href=""></a>  t.s <span class="ot">&lt;-</span> <span class="fu">future_map_dbl</span>(b_indices, iterate_func, <span class="at">.options =</span> <span class="fu">furrr_options</span>(<span class="at">seed =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-16"><a href=""></a>  <span class="fu">samp.o</span>(t.s) <span class="co"># Summarize the bootstrap results</span></span>
<span id="cb7-17"><a href=""></a>}</span>
<span id="cb7-18"><a href=""></a>samp.o <span class="ot">=</span> <span class="cf">function</span>(t.s) {</span>
<span id="cb7-19"><a href=""></a>  <span class="fu">round</span>(<span class="fu">c</span>(<span class="at">mean=</span><span class="fu">mean</span>(t.s),<span class="at">sd=</span><span class="fu">sd</span>(t.s),<span class="at">lower=</span><span class="fu">quantile</span>(t.s, <span class="fl">0.025</span>, <span class="at">names =</span> F),</span>
<span id="cb7-20"><a href=""></a>  <span class="at">upper=</span> <span class="fu">quantile</span>(t.s, <span class="fl">0.975</span>, <span class="at">names =</span> F)),<span class="at">digits=</span><span class="dv">6</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">library</span>(purrr)</span>
<span id="cb8-2"><a href=""></a><span class="fu">library</span>(future)</span>
<span id="cb8-3"><a href=""></a><span class="fu">library</span>(tictoc)</span>
<span id="cb8-4"><a href=""></a></span>
<span id="cb8-5"><a href=""></a><span class="co"># boot &lt;- function(x, B = 5000, m, theta.f, w = 1, rdist, ...) {} # see above</span></span>
<span id="cb8-6"><a href=""></a><span class="co"># samp.o = function(t.s) {} # see above</span></span>
<span id="cb8-7"><a href=""></a>theta.f <span class="ot">=</span> <span class="cf">function</span>(d.b) {p <span class="ot">=</span> <span class="fu">sum</span>(d.b)<span class="sc">/</span>n; p<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>p)} </span>
<span id="cb8-8"><a href=""></a></span>
<span id="cb8-9"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">1</span>); n <span class="ot">=</span> <span class="dv">800000</span>; y <span class="ot">=</span> <span class="dv">480</span>; B <span class="ot">=</span> <span class="dv">5000</span></span>
<span id="cb8-10"><a href=""></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, y), <span class="fu">rep</span>(<span class="dv">0</span>, n<span class="sc">-</span>y)); phat <span class="ot">&lt;-</span> <span class="fu">sum</span>(data)<span class="sc">/</span>n</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div style="margin-top: 20px;">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">tic</span>()</span>
<span id="cb9-2"><a href=""></a>(b_p_future <span class="ot">&lt;-</span> <span class="fu">boot</span>(data, <span class="at">B =</span> B, <span class="at">m =</span> <span class="st">"p"</span>, <span class="at">theta.f =</span> theta.f, <span class="at">w =</span> <span class="dv">1</span>,</span>
<span id="cb9-3"><a href=""></a>                    <span class="at">rdist =</span> rbinom, <span class="at">n =</span> n, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> phat))</span>
<span id="cb9-4"><a href=""></a><span class="fu">toc</span>() <span class="co"># 49.859 sec elapsed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div style="margin-top: 20px;">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="fu">tic</span>()</span>
<span id="cb10-2"><a href=""></a>(<span class="at">b_p_future =</span> <span class="fu">boot</span>(data, <span class="at">B =</span> B, <span class="at">m =</span> <span class="st">"p"</span>, <span class="at">theta.f =</span> theta.f, <span class="at">w =</span> <span class="dv">9</span>,</span>
<span id="cb10-3"><a href=""></a>                    <span class="at">rdist =</span> rbinom, <span class="at">n =</span> n, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> phat))</span>
<span id="cb10-4"><a href=""></a><span class="fu">toc</span>() <span class="co"># 8.014 sec elapsed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section>
<section>
<section id="its-time-for-some-more-exercises" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"></path></svg> <span style="color:white;">Its Time for Some More Exercises</span></h1>

</section>
<section id="q5" class="slide level2">
<h2>Q5</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Question</a></li><li><a href="#tabset-8-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<!--Basic If-Else-->
<p>Write an R function named <code>is_positive</code> that takes a single numeric input and returns <code>TRUE</code> if the number is positive, and <code>FALSE</code> otherwise.</p>
<div id="qwebr-insertion-location-50"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-8-2">
<div id="qwebr-insertion-location-51"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q6" class="slide level2">
<h2>Q6</h2>
<!--Error Handling with Stop-->
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Question</a></li><li><a href="#tabset-9-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<p>Create a function named <code>sqrt_safe</code> that computes the square root of a number. If the input is negative, the function should stop execution and return an error message <code>"Cannot take square root of a negative number."</code></p>
<div id="qwebr-insertion-location-52"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-9-2">
<div id="qwebr-insertion-location-53"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q7" class="slide level2">
<h2>Q7</h2>
<!--Loop with Break-->
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Question</a></li><li><a href="#tabset-10-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<p>Write a function named <code>find_first_negative</code> that takes a numeric vector and returns the position of the first negative number. If there are no negative numbers, return <code>NA</code>.</p>
<div id="qwebr-insertion-location-54"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-10-2">
<div id="qwebr-insertion-location-55"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q8" class="slide level2">
<h2>Q8</h2>
<!--While Loop-->
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Question</a></li><li><a href="#tabset-11-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<p>Create a function named <code>halve_until_less_than_one</code> that takes a single numeric argument and keeps halving it until it is less than 1, then returns the result. Keep track of the number of times the input is halved; print the function output as <code>list(result = x, nsteps = count)</code></p>
<div id="qwebr-insertion-location-56"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-11-2">
<div id="qwebr-insertion-location-57"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q9" class="slide level2">
<h2>Q9</h2>
<!--Apply Function-->
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Question</a></li><li><a href="#tabset-12-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<p>Write a function named <code>scale_columns</code> that takes a matrix and scales (normalizes) each column to have a mean of 0 and a standard deviation of 1. Use the given dataframe <code>M</code></p>
<div id="qwebr-insertion-location-58"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-12-2">
<div id="qwebr-insertion-location-59"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q10" class="slide level2">
<h2>Q10</h2>
<!--`map` with purr-->
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1">Question</a></li><li><a href="#tabset-13-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<p>Using the <code>purrr</code> package, write a function that takes a list of numeric vectors and returns a list of their means. Use <code>purrr::map</code>.</p>
<div id="qwebr-insertion-location-60"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-13-2">
<div id="qwebr-insertion-location-61"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section>
<section id="q11" class="slide level2">
<h2>Q11</h2>
<!--Using the Ellipsis (...)-->
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Question</a></li><li><a href="#tabset-14-2">Answer</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<p>Create a function named <code>multiply_and_add</code> that takes an arbitrary number of numeric vectors. It should multiply each vector by its index in the argument list and then sum all the results into a single number.</p>
<div id="qwebr-insertion-location-62"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="tabset-14-2">
<div id="qwebr-insertion-location-63"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
</div>
</div>
</section></section>
<section id="acknowledgements" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M163.9 136.9c-29.4-29.8-29.4-78.2 0-108s77-29.8 106.4 0l17.7 18 17.7-18c29.4-29.8 77-29.8 106.4 0s29.4 78.2 0 108L310.5 240.1c-6.2 6.3-14.3 9.4-22.5 9.4s-16.3-3.1-22.5-9.4L163.9 136.9zM568.2 336.3c13.1 17.8 9.3 42.8-8.5 55.9L433.1 485.5c-23.4 17.2-51.6 26.5-80.7 26.5H192 32c-17.7 0-32-14.3-32-32V416c0-17.7 14.3-32 32-32H68.8l44.9-36c22.7-18.2 50.9-28 80-28H272h16 64c17.7 0 32 14.3 32 32s-14.3 32-32 32H288 272c-8.8 0-16 7.2-16 16s7.2 16 16 16H392.6l119.7-88.2c17.8-13.1 42.8-9.3 55.9 8.5zM193.6 384l0 0-.9 0c.3 0 .6 0 .9 0z"></path></svg> <span style="color:white; font-size: 70px;">Acknowledgements</span></h1>
<div>
<ul>
<li class="fragment">Thank you Molly Caldwell your efforts organizing!</li>
<li class="fragment">A big thanks to the R-Ladies Community!</li>
<li class="fragment">Thank you Seth for your patience in my experiment using quarto revealjs and <code>webr</code>!!</li>
<li class="fragment">Photo Credit: <a href="https://unsplash.com/photos/a-blue-background-with-lines-and-dots-xuTJZ7uD7PI">Conny Schneider</a> <svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M220.6 121.2L271.1 96 448 96v96H333.2c-21.9-15.1-48.5-24-77.2-24s-55.2 8.9-77.2 24H64V128H192c9.9 0 19.7-2.3 28.6-6.8zM0 128V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H271.1c-9.9 0-19.7 2.3-28.6 6.8L192 64H160V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16l0 16C28.7 64 0 92.7 0 128zM168 304a88 88 0 1 1 176 0 88 88 0 1 1 -176 0z"></path></svg></li>
</ul>
</div>
</section>

<section id="wanna-hear-from-us" class="title-slide slide level1 center" data-background-color="#8FA9C2">
<h1><span style="color:white; font-size: 70px;">Wanna Hear From Us?</span></h1>
<p align="center">
<img src="images/Dan.png" alt="Cover Image" height="250px">
</p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> <a href="https://www.linkedin.com/in/daniel-hintz-rstat/" class="custom-link">daniel-hintz</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> <a href="https://github.com/DHintz137" class="custom-link">DHintz137</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"></path></svg> <a href="https://dhintz137.github.io/quartz/" class="custom-link">dhintz137.github.io</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"></path></svg> <a href="dhintz1@uwyo.edu" class="custom-link">dhintz1@uwyo.edu</a></p>
</section>

<section id="thank-you" class="title-slide slide level1 center" data-background-color="#447099">
<h1>Thank you!!</h1>

</section>

<section id="references" class="title-slide slide level1 smaller scrollable" data-background-color="#447099">
<h1>References</h1>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
<div id="refs" class="references csl-bib-body" role="list">
<div id="ref-NHGRI2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">National Human Genome Research Institute (2024) <a href="https://www.genome.gov/genetics-glossary/Base-Pair">Base pair</a></div>
</div>
<div id="ref-carbo2023comparison" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Carbo EC, Mourik K, Boers SA, et al (2023) A comparison of five illumina, ion torrent, and nanopore sequencing technology-based approaches for whole genome sequencing of SARS-CoV-2. European Journal of Clinical Microbiology &amp; Infectious Diseases 42(6):701713</div>
</div>
<div id="ref-Illumina2016Nextera" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">(2016) <a href="https://support.illumina.com/content/dam/illumina-support/documents/documentation/chemistry_documentation/samplepreps_nextera/nexteradna/nextera-dna-library-prep-reference-guide-15027987-01.pdf"><span>Nextera<sup></sup> DNA Library Prep Reference Guide</span></a>. Illumina</div>
</div>
<div id="ref-kandwal2023genetic" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Kandwal S, Fayne D (2023) Genetic conservation across SARS-CoV-2 non-structural proteinsinsights into possible targets for treatment of future viral outbreaks. Virology</div>
</div>
<div id="ref-angermueller2016deep" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div><div class="csl-right-inline">Angermueller C, Prnamaa T, Parts L, Stegle O (2016) Deep learning for computational biology. Molecular systems biology 12(7):878</div>
</div>
</div>
</section>


    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script type="module">
    // Handle cell initialization initialization
    qwebrCellDetails.map(
      (entry) => {
        // Handle the creation of the element
        qwebrCreateHTMLElement(entry);
        // In the event of interactive, initialize the monaco editor
        if (entry.options.context == EvalTypes.Interactive) {
          qwebrCreateMonacoEditorInstance(entry);
        }
      }
    );

    // Identify non-interactive cells (in order)
    const filteredEntries = qwebrCellDetails.filter(entry => {
      const contextOption = entry.options && entry.options.context;
      return ['output', 'setup'].includes(contextOption) || (contextOption == "interactive" && entry.options && entry.options.autorun === 'true');
    });

    // Condition non-interactive cells to only be run after webR finishes its initialization.
    qwebrInstance.then(
      async () => {
        const nHiddenCells = filteredEntries.length;
        var currentHiddenCell = 0;


        // Modify button state
        qwebrSetInteractiveButtonState(` Running hidden code cells ...`, false);

        // Begin processing non-interactive sections
        // Due to the iteration policy, we must use a for() loop.
        // Otherwise, we would need to switch to using reduce with an empty
        // starting promise
        for (const entry of filteredEntries) {

          // Determine cell being examined
          currentHiddenCell = currentHiddenCell + 1;
          const formattedMessage = `Evaluating hidden cell ${currentHiddenCell} out of ${nHiddenCells}`;

          // Update the document status header
          if (qwebrShowStartupMessage) {
            qwebrUpdateStatusHeader(formattedMessage);
          }

          // Display the update in non-active areas
          qwebrUpdateStatusMessage(formattedMessage);

          // Extract details on the active cell
          const evalType = entry.options.context;
          const cellCode = entry.code;
          const qwebrCounter = entry.id;

          if (['output', 'setup'].includes(evalType)) {
            // Disable further global status updates
            const activeContainer = document.getElementById(`qwebr-non-interactive-loading-container-${qwebrCounter}`);
            activeContainer.classList.remove('qwebr-cell-needs-evaluation');
            activeContainer.classList.add('qwebr-cell-evaluated');

            // Update status on the code cell
            const activeStatus = document.getElementById(`qwebr-status-text-${qwebrCounter}`);
            activeStatus.innerText = " Evaluating hidden code cell...";
            activeStatus.classList.remove('qwebr-cell-needs-evaluation');
            activeStatus.classList.add('qwebr-cell-evaluated');
          }

          switch (evalType) {
            case 'interactive':
              // TODO: Make this more standardized.
              // At the moment, we're overriding the interactive status update by pretending its
              // output-like. 
              const tempOptions = entry.options;
              tempOptions["context"] = "output"
              // Run the code in a non-interactive state that is geared to displaying output
              await qwebrExecuteCode(`${cellCode}`, qwebrCounter, tempOptions);
              break;
            case 'output':
              // Run the code in a non-interactive state that is geared to displaying output
              await qwebrExecuteCode(`${cellCode}`, qwebrCounter, entry.options);
              break;
            case 'setup':
              const activeDiv = document.getElementById(`qwebr-noninteractive-setup-area-${qwebrCounter}`);
              // Run the code in a non-interactive state with all output thrown away
              await mainWebR.evalRVoid(`${cellCode}`);
              break;
            default: 
              break; 
          }

          if (['output', 'setup'].includes(evalType)) {
            // Disable further global status updates
            const activeContainer = document.getElementById(`qwebr-non-interactive-loading-container-${qwebrCounter}`);
            // Disable visibility
            activeContainer.style.visibility = 'hidden';
            activeContainer.style.display = 'none';
          }
        }
      }
    ).then(
      () => {
        // Release document status as ready

        if (qwebrShowStartupMessage) {
          qwebrStartupMessage.innerText = " Ready!"
        }
      
        qwebrSetInteractiveButtonState(
          `<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>`, 
          true
        );  
      }
    );
    </script>
    

</body></html>